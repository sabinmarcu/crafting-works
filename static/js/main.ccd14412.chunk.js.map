{"version":3,"sources":["state/drawer.tsx","state/title.tsx","hooks/config.ts","hooks/usePrevious.ts","hooks/useLocalStorage.ts","state/theme.tsx","config/constants.ts","components/styled.tsx","components/NavBar.tsx","hooks/useLocalStorageObject.ts","config/seed.ts","utils/calculate.ts","state/recipes-v3.tsx","utils/strings.ts","components/RecipesList.tsx","components/SymbolsList.tsx","hooks/useIsMobile.ts","components/Drawer.tsx","components/CreateRecipe.tsx","screens/Home.tsx","components/RecipeEditor.tsx","components/RecipeViewer.tsx","screens/Recipe.tsx","screens/Test.tsx","App.tsx","index.tsx"],"names":["DrawerContext","createContext","isOpen","open","close","toggle","useDrawer","useContext","DrawerProvider","children","useState","setIsOpen","useCallback","t","Provider","value","TitleContext","title","isRoot","setTitle","useTitle","TitleProvider","setIsRoot","update","input","root","Title","useEffect","undefined","_shouldLog","process","_prefix","groupCollapsed","console","groupEnd","log","logGroup","message","key","rest","forEach","it","Array","isArray","makeMatcher","pf","RegExp","join","makeKey","isKey","match","makeType","type","isType","logState","usePrevious","ref","useRef","current","useLocalStorage","defaultValue","prevKey","initialLoad","setInitialLoad","setValue","val","localStorage","getItem","JSON","parse","shouldUpdate","existingValue","removeItem","setItem","stringify","handler","storageArea","k","oldValue","newValue","isValidKey","isLocalStorage","isRightKey","nv","e","window","addEventListener","removeEventListener","themes","dark","createMuiTheme","palette","light","ThemeContext","theme","AppThemeProvider","setTheme","toggleTheme","useMemo","ThemeProvider","mobileBreakpoint","toolbarStyles","background","paper","text","primary","shadow","shadows","StyledToolbar","withTheme","styled","Toolbar","StyledLink","Link","onMobile","DiffActions","StyledContainer","Container","StyledIconButton","IconButton","StyledTypography","Typography","StyledWrapper","div","NavBar","AppBar","position","variant","to","onClick","steelCasing","steel","glass","osmium","output","fissionCasing","lead","fissionReactorPort","eliteControlCircuit","fissionLogicAdapter","redstone","fissionFuelAssembly","basicChemicalTank","controlRodAssembly","reactorGlass","enrichedIron","reinforcedAlloy","advancedControlCircuit","infusedAlloy","basicControlCircuit","iron","turbineCasing","turbineBlade","turbineRotor","turbineValve","turbineVent","bars","pressureDispenser","electromagneticCoil","gold","energyTablet","rotationalComplex","structuralGlass","inductionCasing","inductionPort","basicInductionCell","lithium","basicEnergyCube","basicInductionProvider","reduce","what","recipes","Object","entries","map","obj","amount","Math","ceil","prev","v","p","makePairs","prefix","readPairs","test","keys","sort","filter","replace","Boolean","res","parseInt","from","length","max","SetTypes","diff","orig","target","origKeys","targetKeys","toRemove","includes","action","remove","toAdd","set","toChange","i","updateObject","path","split","indexOf","substr","useLocalStorageObject","state","realKey","initial","diffUpdate","diffs","updateField","diffObj","network","RecipesContext","symbols","names","addRecipe","useRecipes","RecipeProviderV3","seedData","recipeNames","allSymbols","values","idx","arr","name","composite","RecipeContext","recipe","resources","addInput","removeInput","RecipeProvider","store","updateFunc","n","useRecipe","camelCaseToCapitalized","toUpperCase","RecipesList","list","id","List","ListItem","button","ListItemText","StyledChip","Chip","ClickableStyledChip","SymbolsList","onDelete","label","findIsMobile","matchMedia","matches","useIsMobile","isMobile","setIsMobile","StyledDrawer","SwipeableDrawer","StyledAppBar","StyledToolbarContainer","DrawerAppBar","Drawer","onOpen","onClose","anchor","classes","RouteChangeDrawerClose","history","useHistory","listen","FabWrapper","ModalContainer","ModalWrapper","Card","ModalContent","CardContent","ModalActions","CardActions","CreateRecipeModal","setName","onChange","onSave","toLowerCase","Modal","closeAfterTransition","disableEnforceFocus","disableAutoFocus","BackdropComponent","Backdrop","BackdropProps","timeout","elevation","CardHeader","TextField","fullWidth","Button","color","CreateRecipeWrapper","Fab","HomeScreen","StyledTextField","StyledCard","StyledExpandCardContent","Input","useInput","Output","useOutput","createFilterOptions","RecipeEditor","comboSymbols","usedSymbols","deleteHandler","symbol","preventDefault","newSymbol","setNewSymbol","style","flex","Autocomplete","_","inputValue","filterOptions","options","params","filtered","push","selectOnFocus","clearOnBlur","handleHomeEndKeys","getOptionLabel","option","renderOption","renderInput","ResourceWrapper","ResourceText","ResourceNumber","ResourcePreview","ResourcesView","rootResources","startsWith","RecipeViewer","TabPanel","hidden","StyledTabs","Tabs","tabs","Component","RecipeScreen","tab","setTab","event","Tab","TestScreen","whiteSpace","default","App","exact","component","CreateRecipe","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.ccd14412.chunk.js","sourcesContent":["import React, {\n  FC,\n  useState,\n  useCallback,\n  createContext,\n  useContext,\n} from 'react';\n\ntype DrawerContextType = {\n  isOpen: boolean;\n  open: () => void;\n  close: () => void;\n  toggle: () => void;\n};\n\nconst DrawerContext = createContext<DrawerContextType>({\n  isOpen: false,\n  open: () => {},\n  close: () => {},\n  toggle: () => {},\n});\n\nexport const useDrawer = () => useContext(DrawerContext);\nexport const DrawerProvider: FC = ({ children }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const open = useCallback(() => setIsOpen(true), [setIsOpen]);\n  const close = useCallback(() => setIsOpen(false), [setIsOpen]);\n  const toggle = useCallback(() => setIsOpen((t) => !t), [setIsOpen]);\n  return (\n    <DrawerContext.Provider\n      value={{\n        isOpen,\n        open,\n        close,\n        toggle,\n      }}\n    >\n      {children}\n    </DrawerContext.Provider>\n  );\n};\n","import React, {\n  FC,\n  useState,\n  useContext,\n  createContext,\n  useCallback,\n  useEffect,\n} from 'react';\n\ntype TitleContextType = {\n  title: string;\n  isRoot: boolean;\n  setTitle: (input: string, root?: boolean) => void;\n};\n\nexport const TitleContext = createContext<TitleContextType>({\n  title: 'Unknown',\n  isRoot: false,\n  setTitle: () => {},\n});\nexport const useTitle = () => useContext(TitleContext);\n\nexport const TitleProvider: FC = ({ children }) => {\n  const [title, setTitle] = useState('Unknown');\n  const [isRoot, setIsRoot] = useState(false);\n  const update = useCallback(\n    (input: string, root?: boolean) => {\n      setTitle(input);\n      setIsRoot(!!root);\n    },\n    [setTitle, setIsRoot],\n  );\n  return (\n    <TitleContext.Provider\n      value={{\n        title,\n        isRoot,\n        setTitle: update,\n      }}\n    >\n      {children}\n    </TitleContext.Provider>\n  );\n};\n\nexport const Title: FC<{\n  title?: string;\n  isRoot?: boolean;\n}> = ({ title, isRoot, children }) => {\n  const { setTitle } = useTitle();\n  useEffect(() => setTitle(title\n     || (typeof children === 'string' ? children : undefined)\n     || 'unknown',\n  isRoot), [setTitle, title, isRoot]);\n  return <></>;\n};\n","/* eslint-disable no-underscore-dangle,@typescript-eslint/naming-convention */\n\nlet _shouldLog = process.env.NODE_ENV === 'development';\nexport const enableLog = () => {\n  _shouldLog = true;\n};\nexport const disableLog = () => {\n  _shouldLog = false;\n};\nexport const shouldLog = () => _shouldLog;\n\nlet _prefix = 'app';\nexport const setPrefix = (value: string) => {\n  _prefix = `${value}`;\n};\nexport const prefix = () => _prefix;\n\n// eslint-disable-next-line no-console\nexport const groupCollapsed = (...args: any[]) => _shouldLog && console.groupCollapsed(...args);\n// eslint-disable-next-line no-console\nexport const groupEnd = () => _shouldLog && console.groupEnd();\n// eslint-disable-next-line no-console\nexport const log = (...args: any[]) => _shouldLog && console.log(...args);\n\nexport const logGroup = (message: string, key: string, ...rest: any[]) => {\n  groupCollapsed(`${message} %c${key}`, 'color: grey; font-size: 0.9em');\n  rest.forEach((it) => {\n    if (Array.isArray(it)) {\n      log(...it);\n    } else {\n      log(it);\n    }\n  });\n  groupEnd();\n};\n\nconst makeMatcher = (pf?: string) => new RegExp(['^', _prefix, ...(typeof pf !== 'undefined' ? [':', pf] : [])].join(''));\nexport const makeKey = (key: string, pf?: string) => [_prefix, [pf, key].join('')].join(':');\nexport const isKey = (key: string, pf?: string) => key.match(makeMatcher(pf));\nexport const stripKey = (key: string, pf?: string) => key.replace(makeMatcher(pf), '');\n\nexport const makeType = (type: string) => `###${type}###`;\nexport const isType = (type: string) => type.match(/^###([^#]+)###$/);\n\nexport const logState = (message: string, key: string, value: any) => {\n  logGroup(\n    message,\n    key,\n    [`Key: %c${key}`, 'color: blue; text-decoration: underline'],\n    [\n      `LocalStorage Key: %c${[_prefix, key].join(':')}`,\n      'color: blue; text-decoration: underline',\n    ],\n    ['Value:', value],\n  );\n};\n","import { useRef, useEffect } from 'react';\n\nexport const usePrevious = <T>(value: T): T | undefined => {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n};\n\nexport default usePrevious;\n","import {\n  useState, useEffect, Dispatch, SetStateAction,\n} from 'react';\n\nimport {\n  logGroup, logState, makeKey, isKey,\n} from './config';\nimport { usePrevious } from './usePrevious';\n\nexport const useLocalStorage = <T>(\n  key: string,\n  defaultValue?: T,\n): [T | undefined, Dispatch<SetStateAction<T | undefined>>] => {\n  const prevKey = usePrevious(key);\n  const [initialLoad, setInitialLoad] = useState<boolean>(false);\n  const [value, setValue] = useState<T>();\n  useEffect(() => {\n    if (!initialLoad || prevKey !== key) {\n      setInitialLoad(true);\n      const val = localStorage.getItem(makeKey(key));\n      if (val) {\n        try {\n          logState('⚙ LocalStorage Get', key, val);\n          setValue(JSON.parse(val));\n        } catch {\n          logState('❌ Could not parse LS data', key, val);\n          setValue(defaultValue);\n        }\n      } else {\n        setValue(defaultValue);\n      }\n    }\n  }, [initialLoad, key, defaultValue]);\n  useEffect(() => {\n    if (!initialLoad) {\n      return undefined;\n    }\n    let shouldUpdate = true;\n    try {\n      const existingValue = localStorage.getItem(makeKey(key));\n      if (existingValue && JSON.parse(existingValue) === value) {\n        shouldUpdate = false;\n      }\n    } finally {\n      if (shouldUpdate) {\n        if (value === null) {\n          logState('⚙ LocalStorage Remove', key, value);\n          localStorage.removeItem(makeKey(key));\n        } else {\n          logState('⚙ LocalStorage Set', key, value);\n          localStorage.setItem(makeKey(key), JSON.stringify(value));\n        }\n      }\n    }\n    return undefined;\n  }, [key, value, initialLoad]);\n  useEffect(() => {\n    const handler = ({\n      storageArea,\n      key: k,\n      oldValue,\n      newValue,\n    }: StorageEvent) => {\n      if (!k) {\n        return;\n      }\n      const isValidKey = isKey(k);\n      const isLocalStorage = storageArea === localStorage;\n      const isRightKey = k === makeKey(key);\n      if (!(isLocalStorage && isValidKey && isRightKey)) {\n        return;\n      }\n      try {\n        const [ov, nv] = [JSON.parse(oldValue!), JSON.parse(newValue!)];\n        logGroup(\n          '⚙ LocalStorage Event',\n          key,\n          [`Old Value: %c${ov}`, 'color: red; text-decoration: underline'],\n          [`New Value: %c${nv}`, 'color: green; text-decoration: underline'],\n        );\n        setValue(nv);\n      } catch (e) {\n        logState('❌ Could not parse LS data from Event', key, newValue);\n      }\n    };\n    window.addEventListener('storage', handler);\n    return () => window.removeEventListener('storage', handler);\n  }, [setValue, key]);\n  return [value, setValue];\n};\n\nexport default useLocalStorage;\n","import { createMuiTheme, Theme, ThemeProvider } from '@material-ui/core';\nimport React, {\n  createContext,\n  useContext,\n  useCallback,\n  FC,\n  useMemo,\n} from 'react';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\n\nexport type ThemeType = 'light' | 'dark';\nexport type ThemeContextType = {\n  theme: ThemeType,\n  t: Theme,\n  toggle: () => void,\n};\n\nconst themes = {\n  dark: createMuiTheme({ palette: { type: 'dark' } }),\n  light: createMuiTheme({ palette: { type: 'light' } }),\n};\n\nexport const ThemeContext = createContext<ThemeContextType>({\n  theme: 'light',\n  t: themes.light,\n  toggle: () => {},\n});\n\nexport const AppThemeProvider: FC = ({ children }) => {\n  const [theme, setTheme] = useLocalStorage<ThemeType>('theme', 'light');\n  const toggleTheme = useCallback(\n    () => setTheme((t) => (t === 'light' ? 'dark' : 'light')),\n    [setTheme],\n  );\n  const t = useMemo(\n    () => (theme ? themes[theme] : themes.light),\n    [theme],\n  );\n  return (\n    <ThemeContext.Provider value={{\n      theme: theme || 'light',\n      t,\n      toggle: toggleTheme,\n    }}\n    >\n      <ThemeProvider theme={t}>\n        {children}\n      </ThemeProvider>\n    </ThemeContext.Provider>\n  );\n};\n\nexport const useTheme = () => useContext(ThemeContext);\n","// eslint-disable-next-line import/prefer-default-export\nexport const mobileBreakpoint = '(max-width: 500px)';\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { Theme, Toolbar, withTheme } from '@material-ui/core';\nimport { mobileBreakpoint } from '../config/constants';\n\nexport const toolbarStyles = ({\n  theme: {\n    palette: {\n      background: { paper: background },\n      text: { primary: text },\n    },\n    shadows: [,shadow],\n  },\n}: {theme: Theme}) => `\n  background: ${background};\n  color: ${text};\n  box-shadow: ${shadow}\n`;\n\nexport const StyledToolbar = withTheme(\n  styled(Toolbar)`\n    ${toolbarStyles}\n  `,\n);\n\nexport const StyledLink = styled(Link)`\n  text-decoration: none;\n  cursor: pointer;\n  color: inherit;\n`;\n\nexport const onMobile = `@media ${mobileBreakpoint}`;\n\nexport default StyledLink;\n","import React, { FC } from 'react';\nimport {\n  AppBar,\n  Container,\n  Typography,\n  IconButton,\n} from '@material-ui/core';\n\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport styled from 'styled-components';\n\nimport { useDrawer } from '../state/drawer';\nimport { useTitle } from '../state/title';\nimport { useTheme } from '../state/theme';\n\nimport { StyledLink, StyledToolbar } from './styled';\n\nconst StyledContainer = styled(Container)`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst StyledIconButton = styled(IconButton)`\n  margin: 0 5px;\n`;\n\nconst StyledTypography = styled(Typography)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const NavBar: FC = () => {\n  const { open } = useDrawer();\n  const { title, isRoot } = useTitle();\n  const { theme, toggle } = useTheme();\n  return (\n    <AppBar position=\"static\">\n      <StyledToolbar>\n        <StyledContainer>\n          <StyledWrapper>\n            <StyledTypography variant=\"body1\">\n              {!isRoot && (\n                <StyledLink to=\"/\">\n                  <StyledIconButton>\n                    <ArrowBackIcon />\n                  </StyledIconButton>\n                </StyledLink>\n              )}\n              {title}\n            </StyledTypography>\n          </StyledWrapper>\n          <StyledWrapper>\n            <StyledIconButton onClick={toggle}>\n              {theme === 'light'\n                ? <Brightness7Icon />\n                : <Brightness4Icon />}\n            </StyledIconButton>\n            <StyledIconButton onClick={open}>\n              <MenuIcon />\n            </StyledIconButton>\n          </StyledWrapper>\n        </StyledContainer>\n      </StyledToolbar>\n    </AppBar>\n  );\n};\n\nexport default NavBar;\n","import {\n  useState,\n  useEffect,\n  Dispatch,\n  SetStateAction,\n  useCallback,\n} from 'react';\n\nimport {\n  logState,\n  makeKey,\n  isKey,\n  makeType,\n  isType,\n} from './config';\nimport { usePrevious } from './usePrevious';\n\ntype PairType = { key: string, value: any };\nconst makePairs = (\n  obj: any,\n  prefix: string,\n): PairType[] => Object.entries(obj)\n  .reduce(\n    (prev, [k, v]) => {\n      const key = [prefix, k].join(':');\n      return [\n        ...prev,\n        ...(typeof v === 'object'\n          ? [\n            { key, value: makeType(Array.isArray(v) ? 'array' : 'object') },\n            ...makePairs(v, key),\n          ]\n          : [{ key, value: v }]\n        ),\n      ];\n    },\n    [] as PairType[],\n  ) as PairType[];\n\nconst readPairs = (prefix: string, type = 'object'): any => {\n  const test = new RegExp(`^${prefix}:[^:]+$`);\n  const keys: {key: string, value: any}[] = Object.keys(localStorage)\n    .sort()\n    .filter((it) => test.test(it))\n    .map((it) => {\n      let value = localStorage.getItem(it);\n      if (!value) {\n        return undefined;\n      }\n      const t = isType(value);\n      if (t) {\n        value = readPairs(it, t[1]) || value;\n      }\n      return { key: it.replace([prefix, ''].join(':'), ''), value };\n    })\n    .filter(Boolean) as {key: string, value: any}[];\n  const res = keys.reduce(\n    (prev, { key, value }) => ({\n      ...prev,\n      [key]: /^[0-9]+$/.test(value) ? parseInt(value, 10) : value,\n    }), {},\n  );\n  switch (type) {\n    case 'array': return Array.from({\n      ...res,\n      length: keys.reduce(\n        (prev, { key }) => Math.max(\n          parseInt(key, 10),\n          prev,\n        ), 0,\n      ) + 1,\n    });\n    case 'object': return res;\n    default: return undefined;\n  }\n};\n\nenum DiffActions {\n  remove,\n  set,\n}\ntype DiffPair = {\n  key: string,\n  action: DiffActions,\n  value?: any,\n};\nconst diff = (orig: any, target: any, prefix?: string): DiffPair[] => {\n  const origKeys = Object.keys(orig);\n  const targetKeys = Object.keys(target);\n  const toRemove = origKeys.filter((it) => !targetKeys.includes(it))\n    .map((it) => ({ key: [prefix, it].join(':'), action: DiffActions.remove }));\n  const toAdd = targetKeys.filter((it) => !origKeys.includes(it))\n    .reduce(\n      (prev, it) => [\n        ...prev,\n        {\n          key: [prefix, it].join(':'),\n          value: (typeof target[it] === 'object'\n            && (Array.isArray(target[it])\n              ? makeType('array')\n              : makeType('object')))\n            || target[it],\n          action: DiffActions.set,\n        },\n        ...makePairs(target[it], [prefix, it].join(':')),\n      ],\n      [] as PairType[],\n    ).map((it) => ({ ...it, action: DiffActions.set }));\n  const toChange = origKeys.filter((it) => targetKeys.includes(it))\n    .filter((it) => orig[it] !== target[it])\n    .reduce((prev, it) => [\n      ...prev,\n      ...(typeof target[it] === 'object'\n        ? [\n          {\n            key: [prefix, it].join(':'),\n            value: (Array.isArray(target[it])\n              ? makeType('array')\n              : makeType('object')),\n            action: DiffActions.set,\n          },\n          ...makePairs(target[it], [prefix, it].join(':'))\n            .map((i) => ({ ...i, action: DiffActions.set })),\n        ]\n        : [{\n          key: [prefix, it].join(':'),\n          value: target[it],\n          action: DiffActions.set,\n        }]),\n    ], [] as DiffPair[]) as DiffPair[];\n  return [\n    ...toRemove,\n    ...toAdd,\n    ...toChange,\n    ...origKeys.filter((it) => targetKeys.includes(it))\n      .filter((it) => typeof orig[it] === 'object')\n      .reduce(\n        (prev, it) => [\n          ...prev,\n          ...diff(orig[it], target[it], [prefix, it].join(':')),\n        ],\n        [] as DiffPair[],\n      ) as DiffPair[],\n  ].filter(Boolean);\n};\n\nconst updateObject = (obj: any, path: string, value: any): any => {\n  if (path.length === 0) {\n    return /^[0-9]+$/.test(value) ? parseInt(value, 10) : value;\n  }\n  let split = path.indexOf('.');\n  if (split === -1) {\n    split = path.length;\n  }\n  const [key, rest] = [path.substr(0, split), path.substr(split + 1)];\n  return {\n    ...obj,\n    [key]: updateObject(obj[key] || {}, rest, value),\n  };\n};\n\nenum SetTypes {\n  initial,\n  update,\n  network,\n}\n\ntype ValueType = {\n  action: SetTypes,\n  value: any,\n};\n\nexport const useLocalStorageObject = (\n  key: string,\n  defaultValue?: any,\n): [\n    any,\n    Dispatch<SetStateAction<any>>,\n    (path: string, value: any\n    ) => void,\n  ] => {\n  const prevKey = usePrevious(key);\n  const [initialLoad, setInitialLoad] = useState<boolean>(false);\n  const [state, setValue] = useState<ValueType>();\n  useEffect(() => {\n    if (!initialLoad || prevKey !== key) {\n      setInitialLoad(true);\n      const realKey = makeKey(key);\n      const val = localStorage.getItem(realKey);\n      if (val) {\n        setValue({ value: readPairs(realKey), action: SetTypes.initial });\n      } else {\n        setValue({ value: defaultValue, action: SetTypes.initial });\n        localStorage.setItem(realKey, makeType('object'));\n        if (localStorage.getItem(realKey)) {\n          makePairs(defaultValue, realKey)\n            .forEach(({ key: k, value: v }) => localStorage.setItem(k, v));\n        }\n      }\n    }\n  }, [initialLoad, key, defaultValue]);\n  const diffUpdate = useCallback(\n    (input: any) => {\n      if (state?.action !== SetTypes.update) {\n        return;\n      }\n      const realKey = makeKey(key);\n      const diffs = diff(readPairs(realKey), input, realKey);\n      if (diffs) {\n        logState('⚙ LocalStorageObject Set', realKey, state?.value);\n        diffs\n          .forEach(({ key: k, value: v, action }) => (action === DiffActions.remove\n            ? localStorage.removeItem(k)\n            : localStorage.setItem(k, v)));\n      }\n    },\n    [state, key],\n  );\n  const updateField = useCallback(\n    (path: string, val: any) => {\n      const diffObj = updateObject(state?.value, path, val);\n      setValue({ value: diffObj, action: SetTypes.update });\n    },\n    [state, key, setValue],\n  );\n  useEffect(() => {\n    if (!initialLoad) {\n      return undefined;\n    }\n    if (!state?.value) {\n      logState('⚙ LocalStorageObject Remove', key, state?.value);\n      diffUpdate({});\n      localStorage.removeItem(makeKey(key));\n    }\n    diffUpdate(state?.value);\n    return undefined;\n  }, [key, state, initialLoad, diffUpdate]);\n  useEffect(() => {\n    const handler = ({\n      storageArea,\n      key: k,\n    }: StorageEvent) => {\n      if (!k) {\n        return;\n      }\n      const isValidKey = isKey(k);\n      const isLocalStorage = storageArea === localStorage;\n      if (!(isLocalStorage && isValidKey)) {\n        return;\n      }\n      setValue({ value: readPairs(makeKey(key)), action: SetTypes.network });\n    };\n    window.addEventListener('storage', handler);\n    return () => window.removeEventListener('storage', handler);\n  }, [setValue, key]);\n  const update = useCallback(\n    (input: any) => setValue({ value: input, action: SetTypes.update }),\n    [setValue],\n  );\n  return [state?.value, update, updateField];\n};\n\nexport default useLocalStorageObject;\n","const steelCasing = {\n  input: {\n    steel: 4,\n    glass: 4,\n    osmium: 1,\n  },\n  output: 1,\n};\nconst basicChemicalTank = {\n  input: {\n    redstone: 4,\n    osmium: 4,\n  },\n  output: 1,\n};\nconst fissionCasing = {\n  input: {\n    lead: 4,\n    steelCasing: 1,\n  },\n  output: 4,\n};\nconst fissionReactorPort = {\n  input: {\n    fissionCasing: 4,\n    eliteControlCircuit: 1,\n  },\n  output: 2,\n};\nconst fissionLogicAdapter = {\n  input: {\n    redstone: 4,\n    fissionCasing: 1,\n  },\n  output: 1,\n};\nconst fissionFuelAssembly = {\n  input: {\n    lead: 6,\n    steel: 1,\n    basicChemicalTank: 1,\n  },\n  output: 1,\n};\nconst controlRodAssembly = {\n  input: {\n    steel: 4,\n    lead: 4,\n    eliteControlCircuit: 1,\n  },\n  output: 1,\n};\nconst reactorGlass = {\n  input: {\n    enrichedIron: 4,\n    lead: 4,\n    glass: 1,\n  },\n  output: 4,\n};\nconst eliteControlCircuit = {\n  input: {\n    reinforcedAlloy: 2,\n    advancedControlCircuit: 1,\n  },\n  output: 1,\n};\nconst advancedControlCircuit = {\n  input: {\n    infusedAlloy: 2,\n    basicControlCircuit: 1,\n  },\n  output: 1,\n};\nconst basicControlCircuit = {\n  input: { osmium: 1 },\n  output: 1,\n};\nconst reinforcedAlloy = {\n  input: { infusedAlloy: 1 },\n  output: 1,\n};\nconst infusedAlloy = {\n  input: { iron: 1 },\n  output: 1,\n};\nconst steel = {\n  input: { iron: 1 },\n  output: 1,\n};\nconst turbineCasing = {\n  input: {\n    steel: 4,\n    osmium: 1,\n  },\n  output: 4,\n};\nconst turbineValve = {\n  input: {\n    turbineCasing: 4,\n    advancedControlCircuit: 1,\n  },\n  output: 2,\n};\nconst turbineVent = {\n  input: {\n    turbineCasing: 4,\n    bars: 1,\n  },\n  output: 2,\n};\nconst turbineRotor = {\n  input: {\n    steel: 6,\n    infusedAlloy: 3,\n  },\n  output: 1,\n};\nconst turbineBlade = {\n  input: {\n    steel: 4,\n    infusedAlloy: 1,\n  },\n  output: 1,\n};\nconst rotationalComplex = {\n  input: {\n    infusedAlloy: 3,\n    steel: 4,\n    advancedControlCircuit: 2,\n  },\n  output: 1,\n};\nconst pressureDispenser = {\n  input: {\n    steel: 4,\n    bars: 4,\n    infusedAlloy: 1,\n  },\n  output: 1,\n};\nconst electromagneticCoil = {\n  input: {\n    steel: 4,\n    gold: 4,\n    energyTablet: 1,\n  },\n  output: 1,\n};\nconst structuralGlass = {\n  input: {\n    steel: 4,\n    glass: 1,\n  },\n  output: 4,\n};\nconst energyTablet = {\n  input: {\n    gold: 3,\n    infusedAlloy: 2,\n    redstone: 4,\n  },\n  output: 1,\n};\nconst inductionCasing = {\n  input: {\n    steel: 4,\n    energyTablet: 1,\n  },\n  output: 4,\n};\nconst inductionPort = {\n  input: {\n    inductionCasing: 4,\n    eliteControlCircuit: 1,\n  },\n  output: 2,\n};\nconst basicInductionCell = {\n  input: {\n    energyTablet: 4,\n    lithium: 4,\n    basicEnergyCube: 1,\n  },\n  output: 1,\n};\nconst basicEnergyCube = {\n  input: {\n    energyTablet: 2,\n    iron: 2,\n    redstone: 4,\n    steelCasing: 1,\n  },\n  output: 1,\n};\nconst basicInductionProvider = {\n  input: {\n    lithium: 4,\n    basicControlCircuit: 4,\n    basicEnergyCube: 1,\n  },\n  output: 1,\n};\nexport default {\n  steelCasing,\n  fissionCasing,\n  fissionReactorPort,\n  fissionLogicAdapter,\n  fissionFuelAssembly,\n  basicChemicalTank,\n  controlRodAssembly,\n  reactorGlass,\n  eliteControlCircuit,\n  advancedControlCircuit,\n  infusedAlloy,\n  basicControlCircuit,\n  reinforcedAlloy,\n  steel,\n  turbineCasing,\n  turbineBlade,\n  turbineRotor,\n  turbineValve,\n  turbineVent,\n  pressureDispenser,\n  electromagneticCoil,\n  rotationalComplex,\n  structuralGlass,\n  energyTablet,\n  inductionCasing,\n  inductionPort,\n  basicInductionCell,\n  basicEnergyCube,\n  basicInductionProvider,\n};\n","import { RecipesType, RecipeType } from './types';\n\nexport const adjust = (\n  obj: Record<string, number>,\n  amount: number,\n): Record<string, number> => Object.entries(obj).reduce(\n  (prev, [k, v]) => ({\n    ...prev,\n    [k]: v * amount,\n  }),\n  {},\n);\n\nexport const reduce = (\n  what: RecipeType,\n  recipes: RecipesType,\n): Record<string, number> => {\n  const input = Object.entries(what.input).map(([key, value]) => (key in recipes\n    ? {\n      ...adjust(\n        reduce(recipes[key], recipes),\n        Math.ceil(value / recipes[key].output),\n      ),\n      [`_${key}`]: value,\n    }\n    : { [key]: value }));\n  const combined = input.reduce(\n    (prev, obj) => Object.entries(obj).reduce(\n      (p, [k, v]) => ({\n        ...p,\n        [k]: ((p[k] || 0) + v),\n      }),\n      prev,\n    ),\n    {},\n  );\n  return combined;\n};\n","import {\n  createContext,\n  FC,\n  useContext,\n  useMemo,\n  useCallback,\n} from 'react';\n\nimport seedData from '../config/seed';\nimport { reduce } from '../utils/calculate';\nimport { useLocalStorageObject } from '../hooks/useLocalStorageObject';\nimport { RecipeContextType, RecipesContextType, RecipesType } from '../utils/types';\n\nconst RecipesContext = createContext<RecipesContextType>({\n  recipes: {},\n  symbols: [],\n  names: [],\n  update: () => {},\n  addRecipe: () => {},\n});\n\nexport const useRecipes = () => useContext(RecipesContext);\n\nexport const RecipeProviderV3: FC = ({ children }) => {\n  const [recipes,,update] = useLocalStorageObject('recipes-v3', seedData);\n  const recipeNames = useMemo(\n    () => (recipes ? Object.keys(recipes) : []),\n    [recipes],\n  );\n  const allSymbols = useMemo(\n    () => (recipes\n      ? [\n        ...recipeNames,\n        ...Object.values(recipes as RecipesType)\n          .reduce((prev, it) => [\n            ...prev,\n            ...Object.keys(it.input),\n          ],\n          [] as string[]),\n      ]\n        .sort()\n        .filter((it, idx, arr) => arr.indexOf(it) === idx)\n      : []),\n    [recipes, recipeNames],\n  );\n  const symbols = useMemo(\n    () => allSymbols\n      .map((it) => ({ name: it, composite: recipeNames.includes(it) })),\n    [allSymbols, recipeNames],\n  );\n  const addRecipe = useCallback(\n    (name: string) => update(name, { input: {}, output: 0 }),\n    [update],\n  );\n  return (\n    <RecipesContext.Provider value={{\n      recipes,\n      symbols,\n      names: recipeNames,\n      update,\n      addRecipe,\n    }}\n    >\n      {children}\n    </RecipesContext.Provider>\n  );\n};\n\nexport const useSymbols = () => useRecipes().symbols;\nexport const useNames = () => useRecipes().names;\n\nexport const RecipeContext = createContext<RecipeContextType>({\n  recipe: {\n    input: {},\n    output: -1,\n  },\n  resources: {},\n  symbols: [],\n  name: 'unknown',\n  update: () => {},\n  addInput: () => {},\n  removeInput: () => {},\n});\n\nexport const RecipeProvider: FC<{ name: string }> = ({ children, name }) => {\n  const store = useRecipes();\n  const recipe = useMemo(\n    () => store.recipes?.[name] || undefined,\n    [store, name],\n  );\n  const symbols = useMemo(\n    () => (recipe ? Object.keys(recipe.input) : [])\n      .map((it) => ({ name: it, composite: store.names.includes(it) })),\n    [recipe],\n  );\n  const updateFunc = useCallback(\n    (path: string, value: any) => {\n      store.update([name, path].join('.'), value);\n    },\n    [store, name],\n  );\n  const addInput = useCallback(\n    (n: string) => {\n      updateFunc(['input', n].join('.'), 0);\n    },\n    [updateFunc, recipe],\n  );\n  const removeInput = useCallback(\n    (n: string) => {\n      updateFunc('input', Object.entries(recipe.input || {})\n        .filter(([key]) => key !== n)\n        .reduce((prev, [k, v]) => ({\n          ...prev,\n          [k]: v,\n        }), {}));\n    },\n    [updateFunc, recipe],\n  );\n  const resources = useMemo(\n    () => (store.recipes ? reduce(recipe, store.recipes) : {}),\n    [recipe, store],\n  );\n  return (\n    <RecipeContext.Provider value={{\n      recipe,\n      symbols,\n      name,\n      resources,\n      update: updateFunc,\n      addInput,\n      removeInput,\n    }}\n    >\n      {children}\n    </RecipeContext.Provider>\n  );\n};\n\nexport const useRecipe = () => useContext(RecipeContext);\nexport const useResources = () => useContext(RecipeContext).resources;\nexport const useInput = (name: string): [number, (val: string) => void] => {\n  const { recipe, update } = useRecipe();\n  const value = useMemo(\n    () => recipe.input[name],\n    [recipe],\n  );\n  const updateFunc = useCallback(\n    (val: string) => update(['input', name].join('.'), parseInt(val, 10)),\n    [update],\n  );\n  return [\n    value,\n    updateFunc,\n  ];\n};\nexport const useOutput = (): [number, (val: string) => void] => {\n  const { recipe, update } = useRecipe();\n  const value = useMemo(\n    () => recipe.output,\n    [recipe],\n  );\n  const updateFunc = useCallback(\n    (val: string) => update('output', parseInt(val, 10)),\n    [update],\n  );\n  return [\n    value,\n    updateFunc,\n  ];\n};\n","export const camelCaseToCapitalized = (\n  input: string,\n): string => `${input[0].toUpperCase()}${input\n  .substr(1)\n  .replace(/[a-z][A-Z]/g, (it) => `${it[0]} ${it[1]}`)}`;\n\nexport const capitalizedToCamelCase = (\n  input: string,\n): string => `${input[0].toLowerCase()}${input\n  .substr(1)\n  .replace(/ [a-zA-Z]/g, (it) => it[1].toUpperCase())}`;\n","import React, { FC, useMemo } from 'react';\nimport {\n  List,\n  ListItem,\n  ListItemText,\n} from '@material-ui/core';\n// import styled from 'styled-components';\nimport { useRecipes } from '../state/recipes-v3';\nimport { camelCaseToCapitalized } from '../utils/strings';\nimport { StyledLink } from './styled';\n\nexport const RecipesList: FC = () => {\n  const { recipes } = useRecipes();\n  const list = useMemo(\n    () => Object.keys(recipes || {})\n      .map((it) => ({\n        id: it,\n        text: camelCaseToCapitalized(it),\n      })),\n    [recipes],\n  );\n  return (\n    <List>\n      {list.map(({ id, text }) => (\n        <StyledLink to={`/recipes/${id}`} key={id}>\n          <ListItem button>\n            <ListItemText>\n              {text}\n            </ListItemText>\n          </ListItem>\n        </StyledLink>\n      ))}\n    </List>\n  );\n};\n\nexport default RecipesList;\n","import React, { FC } from 'react';\nimport { Chip } from '@material-ui/core';\nimport styled from 'styled-components';\nimport { useSymbols } from '../state/recipes-v3';\nimport { StyledLink } from './styled';\nimport { SymbolType } from '../utils/types';\n\nexport const StyledContainer = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  justify-content: flex-start;\n`;\n\nexport const StyledChip = styled(Chip)`\n  margin: 5px;\n`;\n\nexport const ClickableStyledChip = styled(StyledChip)`\n  cursor: pointer;\n`;\n\nexport const SymbolsList: FC<{\n  symbols: SymbolType[],\n  onDelete?: (input: string) => (e: Event) => void,\n}> = ({\n  symbols,\n  onDelete,\n}) => (\n  <StyledContainer>\n    {symbols.map(({ name, composite }) => (composite ? (\n      <StyledLink to={`/recipes/${name}`} key={name}>\n        <ClickableStyledChip\n          label={name}\n          onDelete={onDelete && onDelete(name)}\n        />\n      </StyledLink>\n    ) : (\n      <StyledChip\n        variant=\"outlined\"\n        label={name}\n        key={name}\n        onDelete={onDelete && onDelete(name)}\n      />\n    )))}\n  </StyledContainer>\n);\n\nexport default () => {\n  const symbols = useSymbols();\n  return symbols ? <SymbolsList symbols={symbols} /> : null;\n};\n","import {\n  useState,\n  useEffect,\n} from 'react';\n\nimport { mobileBreakpoint } from '../config/constants';\n\nconst findIsMobile = () => window.matchMedia(mobileBreakpoint).matches;\nexport const useIsMobile = () => {\n  const [isMobile, setIsMobile] = useState(findIsMobile());\n  useEffect(\n    () => {\n      const handler = () => setIsMobile(findIsMobile());\n      window.addEventListener('resize', handler);\n      return () => window.removeEventListener('resize', handler);\n    },\n  );\n  return isMobile;\n};\n\nexport default useIsMobile;\n","import React, { FC, useEffect } from 'react';\nimport {\n  SwipeableDrawer,\n  AppBar,\n  Toolbar,\n  Container,\n  Typography,\n  IconButton,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport styled from 'styled-components';\n\nimport { useHistory } from 'react-router';\nimport { useDrawer } from '../state/drawer';\nimport { RecipesList } from './RecipesList';\nimport Symbols from './SymbolsList';\nimport { useIsMobile } from '../hooks/useIsMobile';\n\nconst StyledDrawer = styled(SwipeableDrawer)`\n  .styledPaper {\n    min-width: min(100vw, 300px);\n    max-width: 500px;\n  }\n  .styledRoot {\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    justify-content: flex-start;\n  }\n`;\n\nconst StyledAppBar = styled(AppBar)`\n  position: sticky;\n`;\n\nconst StyledContainer = styled(Container)`\n  margin: 1.5rem 0;\n`;\n\nconst StyledToolbarContainer = styled(Container)`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst DrawerAppBar: FC = ({ children }) => {\n  const isMobile = useIsMobile();\n  const { close } = useDrawer();\n  return (\n    <StyledAppBar>\n      <Toolbar>\n        <StyledToolbarContainer>\n          <Typography variant=\"h4\">{children}</Typography>\n          {isMobile && (\n            <IconButton onClick={close}>\n              <CloseIcon />\n            </IconButton>\n          )}\n        </StyledToolbarContainer>\n      </Toolbar>\n    </StyledAppBar>\n  );\n};\n\nexport const Drawer: FC = () => {\n  const { isOpen, open, close } = useDrawer();\n  return (\n    <StyledDrawer\n      open={isOpen}\n      onOpen={open}\n      onClose={close}\n      anchor=\"right\"\n      classes={{ paper: 'styledPaper', root: 'styledRoot' }}\n    >\n      <DrawerAppBar>Symbols</DrawerAppBar>\n      <StyledContainer>\n        <Symbols />\n      </StyledContainer>\n      <DrawerAppBar>Recipes</DrawerAppBar>\n      <StyledContainer>\n        <RecipesList />\n      </StyledContainer>\n    </StyledDrawer>\n  );\n};\n\nexport const RouteChangeDrawerClose: FC = () => {\n  const history = useHistory();\n  const { close } = useDrawer();\n  useEffect(\n    () => history.listen(() => {\n      close();\n    }),\n    [history, close],\n  );\n  return <></>;\n};\n","import React, {\n  useState,\n  useCallback,\n  FC,\n  ChangeEvent,\n} from 'react';\nimport {\n  Container,\n  Fab,\n  Modal,\n  Backdrop,\n  Card,\n  CardHeader,\n  CardContent,\n  TextField,\n  Button,\n  CardActions,\n} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport styled from 'styled-components';\nimport { onMobile } from './styled';\nimport { useRecipes } from '../state/recipes-v3';\nimport { capitalizedToCamelCase } from '../utils/strings';\n\nexport const FabWrapper = styled.div`\n  position: fixed;\n  bottom: 25px;\n  right: 25px;\n`;\n\nexport const ModalContainer = styled(Container)`\n  padding: 25px;\n  margin-top: 25px;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  ${onMobile} {\n    margin: 0;\n    width: 100vw;\n    height: 100vh;\n    padding: 15px;\n  }\n`;\n\nexport const ModalWrapper = styled(Card)`\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n`;\n\nexport const ModalContent = styled(CardContent)`\n  flex: 1;\n`;\n\nexport const ModalActions = styled(CardActions)`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nexport const CreateRecipeModal: FC<{\n  open: boolean,\n  onClose: () => void,\n}> = ({\n  open,\n  onClose,\n}) => {\n  const { addRecipe } = useRecipes();\n  const [name, setName] = useState<string>('');\n  const close = useCallback(\n    () => {\n      setName('');\n      onClose();\n    },\n    [setName, onClose],\n  );\n  const onChange = useCallback(\n    ({ target: { value } }: ChangeEvent<HTMLInputElement>) => setName(value),\n    [setName],\n  );\n  const onSave = useCallback(\n    () => {\n      addRecipe(capitalizedToCamelCase(name));\n      close();\n    },\n    [name, close],\n  );\n  return (\n    <Modal\n      open={open}\n      onClose={close}\n      closeAfterTransition\n      disableEnforceFocus\n      disableAutoFocus\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <ModalContainer>\n        <ModalWrapper elevation={10}>\n          <CardHeader title=\"Create new Recipe\" />\n          <ModalContent>\n            <TextField\n              fullWidth\n              label=\"Short Name\"\n              value={name}\n              onChange={onChange}\n            />\n          </ModalContent>\n          <ModalActions>\n            <Button color=\"primary\" variant=\"contained\" onClick={onSave}>Save</Button>\n            <Button color=\"secondary\" onClick={close}>Cancel</Button>\n          </ModalActions>\n        </ModalWrapper>\n      </ModalContainer>\n    </Modal>\n  );\n};\n\nexport const CreateRecipeWrapper: FC = () => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const close = useCallback(\n    () => setIsOpen(false),\n    [setIsOpen],\n  );\n  const open = useCallback(\n    () => setIsOpen(true),\n    [setIsOpen],\n  );\n  return (\n    <>\n      <FabWrapper>\n        <Fab onClick={open} color=\"primary\">\n          <AddIcon />\n        </Fab>\n      </FabWrapper>\n      <CreateRecipeModal open={isOpen} onClose={close} />\n    </>\n  );\n};\n\nexport default CreateRecipeWrapper;\n","import React from 'react';\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Container,\n} from '@material-ui/core';\nimport styled from 'styled-components';\n\nimport { Title } from '../state/title';\nimport Symbols from '../components/SymbolsList';\nimport { RecipesList } from '../components/RecipesList';\nimport { onMobile } from '../components/styled';\n\nexport const StyledContainer = styled(Container)`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 1rem;\n  padding: 1rem 0;\n  ${onMobile} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const HomeScreen = () => (\n  <>\n    <Title title=\"Home\" isRoot />\n    <StyledContainer>\n      <Card>\n        <CardHeader title=\"Symbols\" />\n        <CardContent>\n          <Symbols />\n        </CardContent>\n      </Card>\n      <Card>\n        <CardHeader title=\"Recipes\" />\n        <CardContent>\n          <RecipesList />\n        </CardContent>\n      </Card>\n    </StyledContainer>\n  </>\n);\nexport default HomeScreen;\n","import React, {\n  FC,\n  ChangeEvent,\n  useCallback,\n  useMemo,\n  useState,\n  useEffect,\n} from 'react';\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  Container,\n  TextField,\n} from '@material-ui/core';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport styled from 'styled-components';\nimport {\n  useRecipe,\n  useInput,\n  useOutput,\n  useRecipes,\n} from '../state/recipes-v3';\n\nimport { Title } from '../state/title';\nimport { camelCaseToCapitalized } from '../utils/strings';\nimport { SymbolsList } from './SymbolsList';\nimport { onMobile } from './styled';\nimport { SymbolType } from '../utils/types';\n\nexport const StyledContainer = styled(Container)`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 1rem;\n  padding: 1rem 0;\n  ${onMobile} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const StyledTextField = styled(TextField)`\n  margin: 0.5rem 0;\n`;\n\nconst StyledCard = styled(Card)`\n  display: flex;\n  flex-flow: column nowrap;\n`;\n\nconst StyledExpandCardContent = styled(CardContent)`\n  flex: 1;\n`;\n\nexport const Input: FC<{\n  name: string\n}> = ({\n  name,\n}) => {\n  const [value, setValue] = useInput(name);\n  const onChange = useCallback(\n    ({ target: { value: v } }: ChangeEvent<HTMLInputElement>) => setValue(v),\n    [setValue],\n  );\n  return (\n    <StyledTextField\n      fullWidth\n      label={camelCaseToCapitalized(name)}\n      value={value}\n      type=\"number\"\n      onChange={onChange}\n    />\n  );\n};\n\nexport const Output: FC = () => {\n  const [value, setValue] = useOutput();\n  const onChange = useCallback(\n    ({ target: { value: v } }: ChangeEvent<HTMLInputElement>) => setValue(v),\n    [setValue],\n  );\n  return (\n    <StyledTextField\n      fullWidth\n      label=\"Output Number\"\n      value={value}\n      type=\"number\"\n      onChange={onChange}\n    />\n  );\n};\n\ntype ComboBoxAddType = {inputValue?: string};\nconst filter = createFilterOptions<SymbolType & ComboBoxAddType>();\n\nexport const RecipeEditor: FC = () => {\n  const { symbols: allSymbols } = useRecipes();\n  const {\n    name,\n    symbols,\n    recipe,\n    addInput,\n    removeInput,\n  } = useRecipe();\n  const comboSymbols = useMemo(\n    () => {\n      const usedSymbols = symbols.map(({ name: n }) => n);\n      return allSymbols.filter(({ name: n }) => !usedSymbols.includes(n));\n    },\n    [symbols, allSymbols],\n  );\n  const deleteHandler = useCallback(\n    (symbol: string) => (e: Event) => {\n      e.preventDefault();\n      removeInput(symbol);\n    },\n    [removeInput],\n  );\n  const [newSymbol, setNewSymbol] = useState<SymbolType & ComboBoxAddType | null>(null);\n  useEffect(\n    () => {\n      if (newSymbol) {\n        addInput(newSymbol.name);\n        setNewSymbol(null);\n      }\n    },\n    [newSymbol, addInput, setNewSymbol],\n  );\n  if (!recipe) {\n    return null;\n  }\n  return (\n    <>\n      <Title title={`Edit: ${camelCaseToCapitalized(name)}`} />\n      <StyledContainer>\n        <StyledCard>\n          <CardHeader title=\"Symbols Used\" />\n          <StyledExpandCardContent style={{ flex: 1 }}>\n            <SymbolsList symbols={symbols} onDelete={deleteHandler} />\n          </StyledExpandCardContent>\n          <CardContent>\n            <Autocomplete\n              value={newSymbol}\n              onChange={(_, newValue) => {\n                if (typeof newValue === 'string') {\n                  setNewSymbol({ name: newValue, composite: false });\n                } else if (newValue && newValue.inputValue) {\n                  setNewSymbol({ name: newValue.inputValue, composite: false });\n                } else if (newValue) {\n                  setNewSymbol(newValue);\n                } else {\n                  setNewSymbol(null);\n                }\n              }}\n              filterOptions={(options, params) => {\n                const filtered = filter(options, params);\n\n                // Suggest the creation of a new value\n                if (params.inputValue !== '') {\n                  filtered.push({\n                    inputValue: params.inputValue,\n                    name: `Add \"${params.inputValue}\"`,\n                  });\n                }\n\n                return filtered;\n              }}\n              selectOnFocus\n              clearOnBlur\n              handleHomeEndKeys\n              options={comboSymbols as (SymbolType & ComboBoxAddType)[]}\n              getOptionLabel={(option) => {\n                if (typeof option === 'string') {\n                  return option;\n                }\n                if (option && option.inputValue) {\n                  return option.inputValue;\n                }\n                return option.name;\n              }}\n              renderOption={({ name: n }) => camelCaseToCapitalized(n)}\n              renderInput={(params) => (\n                <TextField\n                  {...params}\n                  fullWidth\n                  label=\"Add Symbol\"\n                />\n              )}\n            />\n          </CardContent>\n        </StyledCard>\n        <StyledCard>\n          <CardHeader title=\"Materials\" />\n          <StyledExpandCardContent>\n            {Object.keys(recipe.input).sort().map((it) => (\n              <Input\n                name={it}\n                key={it}\n              />\n            ))}\n          </StyledExpandCardContent>\n          <CardContent>\n            <Output />\n          </CardContent>\n        </StyledCard>\n      </StyledContainer>\n    </>\n  );\n};\n\nexport default RecipeEditor;\n","import React, { FC, useMemo } from 'react';\nimport {\n  Card, CardContent, CardHeader, Container, Typography,\n} from '@material-ui/core';\nimport styled from 'styled-components';\nimport { useRecipe, useResources } from '../state/recipes-v3';\nimport { onMobile } from './styled';\nimport { camelCaseToCapitalized } from '../utils/strings';\nimport { Title } from '../state/title';\n\nexport const StyledContainer = styled(Container)`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 1rem;\n  padding: 1rem 0;\n  ${onMobile} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const ResourceWrapper = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport const ResourceText = styled(Typography)`\n  flex: 1;\n`;\n\nexport const ResourceNumber = styled(Typography)`\n\n`;\n\nexport const ResourcePreview: FC<{\n  text: string,\n  amount: number\n}> = ({\n  text,\n  amount,\n}) => (\n  <ResourceWrapper>\n    <ResourceText>{camelCaseToCapitalized(text)}</ResourceText>\n    <ResourceNumber>{amount}</ResourceNumber>\n  </ResourceWrapper>\n);\n\nexport const ResourcesView: FC = () => {\n  const { name } = useRecipe();\n  const resources = useResources();\n  const rootResources = useMemo(\n    () => Object.entries(resources)\n      .filter(([key]) => !key.startsWith('_')),\n    [resources],\n  );\n  return (\n    <>\n      <Title title={`View: ${camelCaseToCapitalized(name)}`} />\n      <StyledContainer>\n        <Card>\n          <CardHeader title=\"Total Resouces\" />\n          <CardContent>\n            {rootResources.map(\n              ([key, value]) => (\n                <ResourcePreview key={key} text={key} amount={value} />\n              ),\n            )}\n          </CardContent>\n        </Card>\n      </StyledContainer>\n    </>\n  );\n};\n\nexport const RecipeViewer: FC = () => (\n  <ResourcesView />\n);\n\nexport default RecipeViewer;\n","import React, {\n  FC, useCallback, useState,\n} from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport {\n  AppBar, Container, Tab, Tabs, withTheme,\n} from '@material-ui/core';\nimport styled from 'styled-components';\nimport {\n  RecipeProvider,\n} from '../state/recipes-v3';\n\nimport { useIsMobile } from '../hooks/useIsMobile';\nimport { RecipeEditor } from '../components/RecipeEditor';\nimport { RecipeViewer } from '../components/RecipeViewer';\nimport { toolbarStyles } from '../components/styled';\n\nconst StyledContainer = styled(Container)`\n  padding: 1rem 0;\n`;\n\nexport const TabPanel: FC<{ isOpen: boolean }> = ({ children, isOpen }) => (\n  <div\n    hidden={!isOpen}\n  >\n    {isOpen && children}\n  </div>\n);\n\nconst StyledTabs = withTheme(\n  styled(Tabs)`\n    .MuiTabs-flexContainer {\n      ${toolbarStyles}\n    }\n  `,\n);\n\nconst tabs = [\n  { title: 'Editor', Component: RecipeEditor },\n  { title: 'Viewer', Component: RecipeViewer },\n];\n\nexport const RecipeScreen: FC<RouteComponentProps<{ name: string }>> = ({\n  match: {\n    params: { name },\n  },\n}) => {\n  const isMobile = useIsMobile();\n  const [tab, setTab] = useState<number>(0);\n  const onChange = useCallback(\n    (event, newValue) => setTab(newValue),\n    [setTab],\n  );\n  return (\n    <RecipeProvider name={name}>\n      <StyledContainer>\n        <AppBar position=\"static\">\n          <StyledTabs\n            value={tab}\n            onChange={onChange}\n            variant={isMobile ? 'fullWidth' : undefined}\n          >\n            {tabs.map(({ title }) => <Tab label={title} key={title} />)}\n          </StyledTabs>\n        </AppBar>\n        {tabs.map(({ title, Component }, idx) => (\n          <TabPanel\n            isOpen={tab === idx}\n            key={title}\n          >\n            <Component />\n          </TabPanel>\n        ))}\n      </StyledContainer>\n    </RecipeProvider>\n  );\n};\n\nexport default RecipeScreen;\n","import React, { FC } from 'react';\nimport { Title } from '../state/title';\nimport { useLocalStorageObject } from '../hooks/useLocalStorageObject';\n\nimport seedData from '../config/seed';\n\nexport const TestScreen: FC = () => {\n  const [value] = useLocalStorageObject('test', seedData);\n  return (\n    <>\n      <Title>Test Screen</Title>\n      <code style={{ whiteSpace: 'pre-wrap' }}>\n        {JSON.stringify(value, undefined, 2)}\n      </code>\n    </>\n  );\n};\n\nexport default TestScreen;\n","import React, { FC } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Route, Switch } from 'react-router';\nimport { Container, withTheme } from '@material-ui/core';\nimport styled from 'styled-components';\n\nimport { NavBar } from './components/NavBar';\nimport { Drawer, RouteChangeDrawerClose } from './components/Drawer';\nimport CreateRecipe from './components/CreateRecipe';\n\nimport { HomeScreen } from './screens/Home';\nimport { RecipeScreen } from './screens/Recipe';\nimport { TestScreen } from './screens/Test';\n\nconst StyledContainer = withTheme(\n  styled(Container)`\n    background: ${({ theme: { palette: { background: { default: background } } } }) => background};\n    width: 100vw;\n    height: 100vh;\n    max-width: initial;\n    overflow-y: auto;\n  `,\n);\n\nexport const App: FC = () => (\n  <Router>\n    <NavBar />\n    <Drawer />\n    <RouteChangeDrawerClose />\n    <StyledContainer>\n      <Switch>\n        <Route exact path=\"/\" component={HomeScreen} />\n        <Route exact path=\"/recipes/:name\" component={RecipeScreen} />\n        <Route exact path=\"/test\" component={TestScreen} />\n      </Switch>\n    </StyledContainer>\n    <CreateRecipe />\n  </Router>\n);\n\nexport default App;\n","import * as React from 'react';\nimport { render } from 'react-dom';\nimport 'typeface-roboto';\n\nimport './styles.css';\nimport { App } from './App';\nimport { DrawerProvider } from './state/drawer';\nimport { TitleProvider } from './state/title';\nimport { AppThemeProvider as ThemeProvider } from './state/theme';\nimport { RecipeProviderV3 } from './state/recipes-v3';\n\nconst rootElement = document.getElementById('root');\nrender(\n  <ThemeProvider>\n    <DrawerProvider>\n      <RecipeProviderV3>\n        <TitleProvider>\n          <App />\n        </TitleProvider>\n      </RecipeProviderV3>\n    </DrawerProvider>\n  </ThemeProvider>,\n  rootElement,\n);\n"],"sourceRoot":""}