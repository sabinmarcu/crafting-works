{"version":3,"sources":["config/constants.ts","components/Redirect.tsx","state/drawer.tsx","state/title.tsx","hooks/config.ts","hooks/usePrevious.ts","hooks/useLocalStorage.ts","hooks/useMatchMedia.ts","state/theme.tsx","hooks/useIsMobile.ts","components/styled.tsx","components/NavBar.tsx","hooks/useLocalStorageObject.ts","config/seed.ts","utils/calculate.ts","state/recipes-v3.tsx","utils/strings.ts","components/RecipesList.tsx","components/SymbolsList.tsx","components/BottomFab.tsx","components/Drawer.tsx","components/RecipeEditor.tsx","components/RecipeViewer.tsx","screens/Recipe.tsx","components/CreateRecipe.tsx","screens/Home.tsx","screens/Test.tsx","screens/404.tsx","App.tsx","index.tsx"],"names":["mobileBreakpoint","Redirect","history","useHistory","search","useMemo","window","location","substr","split","map","it","decodeURIComponent","reduce","prev","key","value","useEffect","r","push","DrawerContext","createContext","isOpen","open","close","toggle","useDrawer","useContext","DrawerProvider","children","useState","setIsOpen","useCallback","t","Provider","TitleContext","title","isRoot","setTitle","useTitle","TitleProvider","setIsRoot","update","input","root","Title","undefined","_shouldLog","process","_prefix","groupCollapsed","console","groupEnd","log","logGroup","message","rest","forEach","Array","isArray","makeMatcher","pf","RegExp","join","makeKey","isKey","match","makeType","type","isType","logState","usePrevious","ref","useRef","current","useLocalStorage","defaultValue","prevKey","initialLoad","setInitialLoad","setValue","val","localStorage","getItem","JSON","parse","shouldUpdate","existingValue","e","error","removeItem","setItem","stringify","handler","storageArea","k","oldValue","newValue","isValidKey","isLocalStorage","isRightKey","nv","addEventListener","removeEventListener","matchMedia","media","useMatchMedia","matches","setMatches","m","mediaMatch","themes","dark","createMuiTheme","palette","light","defaultTheme","ThemeContext","theme","AppThemeProvider","setTheme","hasUserSelect","setHasUserSelect","toggleTheme","isLight","isDark","ThemeProvider","useIsMobile","onMobile","toolbarStyles","background","paper","text","primary","shadow","shadows","StyledToolbar","withTheme","styled","Toolbar","StyledTabs","Tabs","StyledLink","Link","ModalContainerRaw","Container","ModalContainer","isMobile","height","use100vh","style","ModalWrapper","Card","ModalContent","CardContent","RightCardActions","CardActions","DiffActions","StyledContainer","StyledIconButton","IconButton","StyledTypography","Typography","StyledWrapper","div","Spacer","NavBar","size","setSize","bounds","onResize","measureRef","AppBar","position","variant","to","onClick","steelCasing","steel","glass","osmium","output","fissionCasing","lead","fissionReactorPort","eliteControlCircuit","fissionLogicAdapter","redstone","fissionFuelAssembly","basicChemicalTank","controlRodAssembly","reactorGlass","enrichedIron","reinforcedAlloy","advancedControlCircuit","infusedAlloy","basicControlCircuit","iron","turbineCasing","turbineBlade","turbineRotor","turbineValve","turbineVent","bars","pressureDispenser","electromagneticCoil","gold","energyTablet","rotationalComplex","structuralGlass","inductionCasing","inductionPort","basicInductionCell","lithium","basicEnergyCube","basicInductionProvider","what","recipes","Object","entries","obj","amount","Math","ceil","v","p","generateAST","parent","name","ast","keys","hasCircularDependency","symbol","recipe","symbols","ownSymbols","find","filter","Boolean","composite","makePairs","prefix","readPairs","test","sort","replace","res","parseInt","from","length","max","SetTypes","diff","orig","target","origKeys","targetKeys","toRemove","includes","action","remove","toAdd","set","toChange","i","updateObject","path","indexOf","useLocalStorageObject","state","realKey","initial","diffUpdate","diffs","updateField","diffObj","network","RecipesContext","names","addRecipe","useRecipes","RecipeProviderV3","seedData","recipeNames","allSymbols","values","idx","arr","RecipeContext","resources","addInput","removeInput","RecipeProvider","store","updateFunc","n","steps","toWalk","step","findIndex","reverse","generateSteps","useRecipe","camelCaseToCapitalized","toUpperCase","RecipesList","list","id","List","ListItem","button","ListItemText","StyledChip","Chip","ClickableStyledChip","SymbolsList","onDelete","label","FabWrapper","vertical","horizontal","BottomFab","Icon","Fab","color","drawerStyle","StyledDrawer","SwipeableDrawer","StyledAppBar","StyledToolbarContainer","StyledTabPanel","TabPanel","DrawerAppBar","DrawerWrapper","section","DrawerInner","article","tabs","Component","reset","Button","Drawer","tab","setTab","onChange","event","onOpen","onClose","anchor","classes","TabContext","Tab","CloseIcon","RouteChangeDrawerClose","listen","StyledTextField","TextField","StyledCard","StyledExpandCardContent","Input","useInput","fullWidth","Output","useOutput","createFilterOptions","RecipeEditor","comboSymbols","usedSymbols","circularSymbols","deleteHandler","preventDefault","newSymbol","setNewSymbol","CardHeader","flex","Autocomplete","_","inputValue","filterOptions","options","params","filtered","selectOnFocus","clearOnBlur","handleHomeEndKeys","getOptionLabel","option","renderOption","renderInput","ResourceWrapper","ResourceText","ResourceNumber","ResourcePreview","ResourcesSummary","rootResources","startsWith","SVGCard","SVGWrapper","SVG","default","LargeModalContent","LargeModalContainer","AST","data","translate","x","width","y","orientation","collapsible","textLayout","textAnchor","ASTPreview","modalOpen","setModalOpen","humanReadableAst","updateNode","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","elevation","FullCol","StyledAccordionDetails","AccordionDetails","StepsView","active","setActive","activate","Accordion","expanded","AccordionSummary","expandIcon","toString","ResourcesView","RecipeViewer","baseRoute","route","RouteOnEmpty","hasLoaded","setHasLoaded","setTimeout","RecipeScreen","useLocation","useRouteMatch","isExact","url","useParams","pathname","prevTab","exact","component","CreateRecipeModal","availableSymbols","onSave","toLowerCase","disableEnforceFocus","disableAutoFocus","CreateRecipeWrapper","AddIcon","HomeScreen","TestScreen","whiteSpace","Error404Screen","StyledContainerRaw","minHeight","App","basename","recipeRoute","CreateRecipe","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.cc2ba878.chunk.js","sourcesContent":["export const mobileBreakpoint = '(max-width: 500px)';\nexport const baseURL = process.env.REACT_APP_BASE_URL || '/';\n","import React, { FC, useEffect, useMemo } from 'react';\nimport { useHistory } from 'react-router';\n\nexport const Redirect: FC = () => {\n  const history = useHistory();\n  const search = useMemo(\n    () => window.location.search\n      .substr(1)\n      .split('&')\n      .map((it) => it\n        .split('=')\n        .map(decodeURIComponent))\n      .reduce((prev, [key, value]) => ({\n        ...prev,\n        [key]: value,\n      }), {} as Record<string, string>),\n    [],\n  );\n  useEffect(\n    () => {\n      if (search.r) {\n        history.push(search.r);\n      }\n    },\n    [search, history],\n  );\n  return <></>;\n};\n\nexport default Redirect;\n","import React, {\n  FC,\n  useState,\n  useCallback,\n  createContext,\n  useContext,\n} from 'react';\n\ntype DrawerContextType = {\n  isOpen: boolean;\n  open: () => void;\n  close: () => void;\n  toggle: () => void;\n};\n\nconst DrawerContext = createContext<DrawerContextType>({\n  isOpen: false,\n  open: () => {},\n  close: () => {},\n  toggle: () => {},\n});\n\nexport const useDrawer = () => useContext(DrawerContext);\nexport const DrawerProvider: FC = ({ children }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const open = useCallback(() => setIsOpen(true), [setIsOpen]);\n  const close = useCallback(() => setIsOpen(false), [setIsOpen]);\n  const toggle = useCallback(() => setIsOpen((t) => !t), [setIsOpen]);\n  return (\n    <DrawerContext.Provider\n      value={{\n        isOpen,\n        open,\n        close,\n        toggle,\n      }}\n    >\n      {children}\n    </DrawerContext.Provider>\n  );\n};\n","import React, {\n  FC,\n  useState,\n  useContext,\n  createContext,\n  useCallback,\n  useEffect,\n} from 'react';\n\ntype TitleContextType = {\n  title: string;\n  isRoot: boolean;\n  setTitle: (input: string, root?: boolean) => void;\n};\n\nexport const TitleContext = createContext<TitleContextType>({\n  title: 'Unknown',\n  isRoot: false,\n  setTitle: () => {},\n});\nexport const useTitle = () => useContext(TitleContext);\n\nexport const TitleProvider: FC = ({ children }) => {\n  const [title, setTitle] = useState('Unknown');\n  const [isRoot, setIsRoot] = useState(false);\n  const update = useCallback(\n    (input: string, root?: boolean) => {\n      setTitle(input);\n      setIsRoot(!!root);\n    },\n    [setTitle, setIsRoot],\n  );\n  return (\n    <TitleContext.Provider\n      value={{\n        title,\n        isRoot,\n        setTitle: update,\n      }}\n    >\n      {children}\n    </TitleContext.Provider>\n  );\n};\n\nexport const Title: FC<{\n  title?: string;\n  isRoot?: boolean;\n}> = ({ title, isRoot, children }) => {\n  const { setTitle } = useTitle();\n  useEffect(() => setTitle(title\n     || (typeof children === 'string' ? children : undefined)\n     || 'unknown',\n  isRoot), [setTitle, title, isRoot]);\n  return <></>;\n};\n","/* eslint-disable no-underscore-dangle,@typescript-eslint/naming-convention */\n\nlet _shouldLog = process.env.NODE_ENV === 'development';\nexport const enableLog = () => {\n  _shouldLog = true;\n};\nexport const disableLog = () => {\n  _shouldLog = false;\n};\nexport const shouldLog = () => _shouldLog;\n\nlet _prefix = 'app';\nexport const setPrefix = (value: string) => {\n  _prefix = `${value}`;\n};\nexport const prefix = () => _prefix;\n\n// eslint-disable-next-line no-console\nexport const groupCollapsed = (...args: any[]) => _shouldLog && console.groupCollapsed(...args);\n// eslint-disable-next-line no-console\nexport const groupEnd = () => _shouldLog && console.groupEnd();\n// eslint-disable-next-line no-console\nexport const log = (...args: any[]) => _shouldLog && console.log(...args);\n\nexport const logGroup = (message: string, key: string, ...rest: any[]) => {\n  groupCollapsed(`${message} %c${key}`, 'color: grey; font-size: 0.9em');\n  rest.forEach((it) => {\n    if (Array.isArray(it)) {\n      log(...it);\n    } else {\n      log(it);\n    }\n  });\n  groupEnd();\n};\n\nconst makeMatcher = (pf?: string) => new RegExp(['^', _prefix, ...(typeof pf !== 'undefined' ? [':', pf] : [])].join(''));\nexport const makeKey = (key: string, pf?: string) => [_prefix, [pf, key].join('')].join(':');\nexport const isKey = (key: string, pf?: string) => key.match(makeMatcher(pf));\nexport const stripKey = (key: string, pf?: string) => key.replace(makeMatcher(pf), '');\n\nexport const makeType = (type: string) => `###${type}###`;\nexport const isType = (type: string) => type.match(/^###([^#]+)###$/);\n\nexport const logState = (message: string, key: string, value: any) => {\n  logGroup(\n    message,\n    key,\n    [`Key: %c${key}`, 'color: blue; text-decoration: underline'],\n    [\n      `LocalStorage Key: %c${[_prefix, key].join(':')}`,\n      'color: blue; text-decoration: underline',\n    ],\n    ['Value:', value],\n  );\n};\n","import { useRef, useEffect } from 'react';\n\nexport const usePrevious = <T>(value: T): T | undefined => {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n};\n\nexport default usePrevious;\n","import {\n  useState, useEffect, Dispatch, SetStateAction,\n} from 'react';\n\nimport {\n  logGroup, logState, makeKey, isKey,\n} from './config';\nimport { usePrevious } from './usePrevious';\n\nexport const useLocalStorage = <T>(\n  key: string,\n  defaultValue?: T,\n): [T | undefined, Dispatch<SetStateAction<T | undefined>>] => {\n  const prevKey = usePrevious(key);\n  const [initialLoad, setInitialLoad] = useState<boolean>(false);\n  const [value, setValue] = useState<T>();\n  useEffect(() => {\n    if (!initialLoad || prevKey !== key) {\n      setInitialLoad(true);\n      const val = localStorage.getItem(makeKey(key));\n      if (val) {\n        try {\n          logState('⚙ LocalStorage Get', key, val);\n          setValue(JSON.parse(val));\n        } catch {\n          logState('❌ Could not parse LS data', key, val);\n          setValue(defaultValue);\n        }\n      } else {\n        setValue(defaultValue);\n      }\n    }\n  }, [initialLoad, key, defaultValue]);\n  useEffect(() => {\n    if (!initialLoad) {\n      return undefined;\n    }\n    let shouldUpdate = true;\n    try {\n      let existingValue: string | T | null = localStorage.getItem(makeKey(key));\n      try {\n        existingValue = JSON.parse(existingValue as string);\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.error(e);\n      } finally {\n        if (existingValue && existingValue === value) {\n          shouldUpdate = false;\n        }\n      }\n    } finally {\n      if (shouldUpdate) {\n        if (value === null) {\n          logState('⚙ LocalStorage Remove', key, value);\n          localStorage.removeItem(makeKey(key));\n        } else {\n          logState('⚙ LocalStorage Set', key, value);\n          localStorage.setItem(makeKey(key), JSON.stringify(value));\n        }\n      }\n    }\n    return undefined;\n  }, [key, value, initialLoad]);\n  useEffect(() => {\n    const handler = ({\n      storageArea,\n      key: k,\n      oldValue,\n      newValue,\n    }: StorageEvent) => {\n      if (!k) {\n        return;\n      }\n      const isValidKey = isKey(k);\n      const isLocalStorage = storageArea === localStorage;\n      const isRightKey = k === makeKey(key);\n      if (!(isLocalStorage && isValidKey && isRightKey)) {\n        return;\n      }\n      try {\n        const [ov, nv] = [JSON.parse(oldValue!), JSON.parse(newValue!)];\n        logGroup(\n          '⚙ LocalStorage Event',\n          key,\n          [`Old Value: %c${ov}`, 'color: red; text-decoration: underline'],\n          [`New Value: %c${nv}`, 'color: green; text-decoration: underline'],\n        );\n        setValue(nv);\n      } catch (e) {\n        logState('❌ Could not parse LS data from Event', key, newValue);\n      }\n    };\n    window.addEventListener('storage', handler);\n    return () => window.removeEventListener('storage', handler);\n  }, [setValue, key]);\n  return [value, setValue];\n};\n\nexport default useLocalStorage;\n","import {\n  useState,\n  useEffect,\n} from 'react';\n\nconst matchMedia = (media: string) => window.matchMedia(media);\n\nexport const useMatchMedia = (media: string) => {\n  const [matches, setMatches] = useState<boolean>(\n    matchMedia(media).matches,\n  );\n  useEffect(\n    () => {\n      const handler = ({ matches: m }: MediaQueryListEvent) => setMatches(m);\n      const mediaMatch = matchMedia(media);\n      mediaMatch.addEventListener('change', handler);\n      return () => mediaMatch.removeEventListener('change', handler);\n    },\n    [media, setMatches],\n  );\n  return matches;\n};\n\nexport default useMatchMedia;\n","import { createMuiTheme, Theme, ThemeProvider } from '@material-ui/core';\nimport React, {\n  createContext,\n  useContext,\n  useCallback,\n  FC,\n  useMemo,\n  useEffect,\n} from 'react';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\nimport { useMatchMedia } from '../hooks/useMatchMedia';\n\nexport type ThemeType = 'light' | 'dark';\nexport type ThemeContextType = {\n  theme: ThemeType,\n  t: Theme,\n  toggle: () => void,\n};\n\nconst themes = {\n  dark: createMuiTheme({ palette: { type: 'dark' } }),\n  light: createMuiTheme({ palette: { type: 'light' } }),\n};\n\nconst defaultTheme = 'dark';\n\nexport const ThemeContext = createContext<ThemeContextType>({\n  theme: defaultTheme,\n  t: themes[defaultTheme],\n  toggle: () => {},\n});\n\nexport const AppThemeProvider: FC = ({ children }) => {\n  const [theme, setTheme] = useLocalStorage<ThemeType>('theme', defaultTheme);\n  const [hasUserSelect, setHasUserSelect] = useLocalStorage<boolean>('theme-select');\n  const toggleTheme = useCallback(\n    () => {\n      setHasUserSelect(true);\n      setTheme((t) => (t === 'light' ? 'dark' : 'light'));\n    },\n    [setTheme, setHasUserSelect],\n  );\n  const t = useMemo(\n    () => (theme ? themes[theme] : themes.light),\n    [theme],\n  );\n  const isLight = useMatchMedia('(prefers-color-scheme: light)');\n  const isDark = useMatchMedia('(prefers-color-scheme: dark)');\n  useEffect(\n    () => {\n      if (!hasUserSelect) {\n        if (isLight) {\n          setTheme('light');\n        } else if (isDark) {\n          setTheme('dark');\n        } else {\n          setTheme(defaultTheme);\n        }\n      }\n    },\n    [theme, hasUserSelect, isLight, isDark, setTheme],\n  );\n\n  return (\n    <ThemeContext.Provider value={{\n      theme: theme || 'light',\n      t,\n      toggle: toggleTheme,\n    }}\n    >\n      <ThemeProvider theme={t}>\n        {children}\n      </ThemeProvider>\n    </ThemeContext.Provider>\n  );\n};\n\nexport const useTheme = () => useContext(ThemeContext);\n","import { mobileBreakpoint } from '../config/constants';\nimport { useMatchMedia } from './useMatchMedia';\n\nexport const useIsMobile = () => useMatchMedia(mobileBreakpoint);\n\nexport default useIsMobile;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  Container,\n  Tabs,\n  Theme,\n  Toolbar,\n  withTheme,\n} from '@material-ui/core';\nimport { FC, ReactElement } from 'react';\nimport { use100vh } from 'react-div-100vh';\nimport { mobileBreakpoint } from '../config/constants';\nimport { useIsMobile } from '../hooks/useIsMobile';\n\nexport const onMobile = `@media ${mobileBreakpoint}`;\n\nexport const toolbarStyles = ({\n  theme: {\n    palette: {\n      background: { paper: background },\n      text: { primary: text },\n    },\n    shadows: [,shadow],\n  },\n}: {theme: Theme}) => `\n  background: ${background};\n  color: ${text};\n  box-shadow: ${shadow}\n`;\n\nexport const StyledToolbar = withTheme(\n  styled(Toolbar)`\n    ${toolbarStyles}\n  `,\n);\n\nexport const StyledTabs = withTheme(\n  styled(Tabs)`\n    .MuiTabs-flexContainer {\n      ${toolbarStyles}\n    }\n  `,\n);\n\nexport const StyledLink = styled(Link)`\n  text-decoration: none;\n  cursor: pointer;\n  color: inherit;\n`;\n\nexport const ModalContainerRaw = styled(Container)`\n  padding: 25px !important;\n  margin-top: 25px !important;\n  display: flex !important;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  outline: 0;\n  ${onMobile} {\n    margin: 0;\n    width: 100vw;\n    padding: 15px;\n  }\n`;\n\nexport const ModalContainer: FC = ({ children }) => {\n  const isMobile = useIsMobile();\n  const height = use100vh();\n  return (\n    <ModalContainerRaw\n      {...(isMobile\n        ? { style: { height: height || '100vh' } }\n        : {}\n      )}\n    >\n      {children as ReactElement}\n    </ModalContainerRaw>\n  );\n};\n\nexport const ModalWrapper = styled(Card)`\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n`;\n\nexport const ModalContent = styled(CardContent)`\n  flex: 1;\n`;\n\nexport const RightCardActions = styled(CardActions)`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nexport default StyledLink;\n","import React, { FC, useState } from 'react';\nimport {\n  AppBar,\n  Container,\n  Typography,\n  IconButton,\n} from '@material-ui/core';\nimport Measure, { BoundingRect } from 'react-measure';\n\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport styled from 'styled-components';\n\nimport { useDrawer } from '../state/drawer';\nimport { useTitle } from '../state/title';\nimport { useTheme } from '../state/theme';\n\nimport { StyledLink, StyledToolbar } from './styled';\n\nconst StyledContainer = styled(Container)`\n  display: flex !important;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst StyledIconButton = styled(IconButton)`\n  margin: 0 5px;\n`;\n\nconst StyledTypography = styled(Typography)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Spacer = styled.div`\n  width: 100%;\n`;\n\nexport const NavBar: FC = () => {\n  const { open } = useDrawer();\n  const { title, isRoot } = useTitle();\n  const { theme, toggle } = useTheme();\n  const [size, setSize] = useState<BoundingRect>();\n  return (\n    <>\n      <Spacer style={{ height: size?.height ?? 50 }} />\n      <Measure\n        bounds\n        onResize={({ bounds }) => setSize(bounds)}\n      >\n        {({ measureRef }) => (\n          <AppBar position=\"fixed\" ref={measureRef}>\n            <StyledToolbar>\n              <StyledContainer>\n                <StyledWrapper>\n                  <StyledTypography variant=\"body1\">\n                    {!isRoot && (\n                    <StyledLink to=\"/\">\n                      <StyledIconButton>\n                        <ArrowBackIcon />\n                      </StyledIconButton>\n                    </StyledLink>\n                    )}\n                    {title}\n                  </StyledTypography>\n                </StyledWrapper>\n                <StyledWrapper>\n                  <StyledIconButton onClick={toggle}>\n                    {theme === 'light'\n                      ? <Brightness7Icon />\n                      : <Brightness4Icon />}\n                  </StyledIconButton>\n                  <StyledIconButton onClick={open}>\n                    <MenuIcon />\n                  </StyledIconButton>\n                </StyledWrapper>\n              </StyledContainer>\n            </StyledToolbar>\n          </AppBar>\n        )}\n      </Measure>\n    </>\n  );\n};\n\nexport default NavBar;\n","import {\n  useState,\n  useEffect,\n  Dispatch,\n  SetStateAction,\n  useCallback,\n} from 'react';\n\nimport {\n  logState,\n  makeKey,\n  isKey,\n  makeType,\n  isType,\n} from './config';\nimport { usePrevious } from './usePrevious';\n\ntype PairType = { key: string, value: any };\nconst makePairs = (\n  obj: any,\n  prefix: string,\n): PairType[] => Object.entries(obj)\n  .reduce(\n    (prev, [k, v]) => {\n      const key = [prefix, k].join(':');\n      return [\n        ...prev,\n        ...(typeof v === 'object'\n          ? [\n            { key, value: makeType(Array.isArray(v) ? 'array' : 'object') },\n            ...makePairs(v, key),\n          ]\n          : [{ key, value: v }]\n        ),\n      ];\n    },\n    [] as PairType[],\n  ) as PairType[];\n\nconst readPairs = (prefix: string, type = 'object'): any => {\n  const test = new RegExp(`^${prefix}:[^:]+$`);\n  const keys: {key: string, value: any}[] = Object.keys(localStorage)\n    .sort()\n    .filter((it) => test.test(it))\n    .map((it) => {\n      let value = localStorage.getItem(it);\n      if (!value) {\n        return undefined;\n      }\n      const t = isType(value);\n      if (t) {\n        value = readPairs(it, t[1]) || value;\n      }\n      return { key: it.replace([prefix, ''].join(':'), ''), value };\n    })\n    .filter(Boolean) as {key: string, value: any}[];\n  const res = keys.reduce(\n    (prev, { key, value }) => ({\n      ...prev,\n      [key]: /^[0-9]+$/.test(value) ? parseInt(value, 10) : value,\n    }), {},\n  );\n  switch (type) {\n    case 'array': return Array.from({\n      ...res,\n      length: keys.reduce(\n        (prev, { key }) => Math.max(\n          parseInt(key, 10),\n          prev,\n        ), 0,\n      ) + 1,\n    });\n    case 'object': return res;\n    default: return undefined;\n  }\n};\n\nenum DiffActions {\n  remove,\n  set,\n}\ntype DiffPair = {\n  key: string,\n  action: DiffActions,\n  value?: any,\n};\nconst diff = (orig: any, target: any, prefix?: string): DiffPair[] => {\n  const origKeys = Object.keys(orig);\n  const targetKeys = Object.keys(target);\n  const toRemove = origKeys.filter((it) => !targetKeys.includes(it))\n    .map((it) => ({ key: [prefix, it].join(':'), action: DiffActions.remove }));\n  const toAdd = targetKeys.filter((it) => !origKeys.includes(it))\n    .reduce(\n      (prev, it) => [\n        ...prev,\n        {\n          key: [prefix, it].join(':'),\n          value: (typeof target[it] === 'object'\n            && (Array.isArray(target[it])\n              ? makeType('array')\n              : makeType('object')))\n            || target[it],\n          action: DiffActions.set,\n        },\n        ...makePairs(target[it], [prefix, it].join(':')),\n      ],\n      [] as PairType[],\n    ).map((it) => ({ ...it, action: DiffActions.set }));\n  const toChange = origKeys.filter((it) => targetKeys.includes(it))\n    .filter((it) => orig[it] !== target[it])\n    .reduce((prev, it) => [\n      ...prev,\n      ...(typeof target[it] === 'object'\n        ? [\n          {\n            key: [prefix, it].join(':'),\n            value: (Array.isArray(target[it])\n              ? makeType('array')\n              : makeType('object')),\n            action: DiffActions.set,\n          },\n          ...makePairs(target[it], [prefix, it].join(':'))\n            .map((i) => ({ ...i, action: DiffActions.set })),\n        ]\n        : [{\n          key: [prefix, it].join(':'),\n          value: target[it],\n          action: DiffActions.set,\n        }]),\n    ], [] as DiffPair[]) as DiffPair[];\n  return [\n    ...toRemove,\n    ...toAdd,\n    ...toChange,\n    ...origKeys.filter((it) => targetKeys.includes(it))\n      .filter((it) => typeof orig[it] === 'object')\n      .reduce(\n        (prev, it) => [\n          ...prev,\n          ...diff(orig[it], target[it], [prefix, it].join(':')),\n        ],\n        [] as DiffPair[],\n      ) as DiffPair[],\n  ].filter(Boolean);\n};\n\nconst updateObject = (obj: any, path: string, value: any): any => {\n  if (path.length === 0) {\n    return /^[0-9]+$/.test(value) ? parseInt(value, 10) : value;\n  }\n  let split = path.indexOf('.');\n  if (split === -1) {\n    split = path.length;\n  }\n  const [key, rest] = [path.substr(0, split), path.substr(split + 1)];\n  return {\n    ...obj,\n    [key]: updateObject(obj[key] || {}, rest, value),\n  };\n};\n\nenum SetTypes {\n  initial,\n  update,\n  network,\n}\n\ntype ValueType = {\n  action: SetTypes,\n  value: any,\n};\n\nexport const useLocalStorageObject = (\n  key: string,\n  defaultValue?: any,\n): [\n    any,\n    Dispatch<SetStateAction<any>>,\n    (path: string, value: any\n    ) => void,\n  ] => {\n  const prevKey = usePrevious(key);\n  const [initialLoad, setInitialLoad] = useState<boolean>(false);\n  const [state, setValue] = useState<ValueType>();\n  useEffect(() => {\n    if (!initialLoad || prevKey !== key) {\n      setInitialLoad(true);\n      const realKey = makeKey(key);\n      const val = localStorage.getItem(realKey);\n      if (val) {\n        setValue({ value: readPairs(realKey), action: SetTypes.initial });\n      } else {\n        setValue({ value: defaultValue, action: SetTypes.initial });\n        localStorage.setItem(realKey, makeType('object'));\n        if (localStorage.getItem(realKey)) {\n          makePairs(defaultValue, realKey)\n            .forEach(({ key: k, value: v }) => localStorage.setItem(k, v));\n        }\n      }\n    }\n  }, [initialLoad, key, defaultValue]);\n  const diffUpdate = useCallback(\n    (input: any) => {\n      if (state?.action !== SetTypes.update) {\n        return;\n      }\n      const realKey = makeKey(key);\n      const diffs = diff(readPairs(realKey), input, realKey);\n      if (diffs) {\n        logState('⚙ LocalStorageObject Set', realKey, state?.value);\n        diffs\n          .forEach(({ key: k, value: v, action }) => (action === DiffActions.remove\n            ? localStorage.removeItem(k)\n            : localStorage.setItem(k, v)));\n      }\n    },\n    [state, key],\n  );\n  const updateField = useCallback(\n    (path: string, val: any) => {\n      const diffObj = updateObject(state?.value, path, val);\n      setValue({ value: diffObj, action: SetTypes.update });\n    },\n    [state, key, setValue],\n  );\n  useEffect(() => {\n    if (!initialLoad) {\n      return undefined;\n    }\n    if (!state?.value) {\n      logState('⚙ LocalStorageObject Remove', key, state?.value);\n      diffUpdate({});\n      localStorage.removeItem(makeKey(key));\n    }\n    diffUpdate(state?.value);\n    return undefined;\n  }, [key, state, initialLoad, diffUpdate]);\n  useEffect(() => {\n    const handler = ({\n      storageArea,\n      key: k,\n    }: StorageEvent) => {\n      if (!k) {\n        return;\n      }\n      const isValidKey = isKey(k);\n      const isLocalStorage = storageArea === localStorage;\n      if (!(isLocalStorage && isValidKey)) {\n        return;\n      }\n      setValue({ value: readPairs(makeKey(key)), action: SetTypes.network });\n    };\n    window.addEventListener('storage', handler);\n    return () => window.removeEventListener('storage', handler);\n  }, [setValue, key]);\n  const update = useCallback(\n    (input: any) => setValue({ value: input, action: SetTypes.update }),\n    [setValue],\n  );\n  return [state?.value, update, updateField];\n};\n\nexport default useLocalStorageObject;\n","const steelCasing = {\n  input: {\n    steel: 4,\n    glass: 4,\n    osmium: 1,\n  },\n  output: 1,\n};\nconst basicChemicalTank = {\n  input: {\n    redstone: 4,\n    osmium: 4,\n  },\n  output: 1,\n};\nconst fissionCasing = {\n  input: {\n    lead: 4,\n    steelCasing: 1,\n  },\n  output: 4,\n};\nconst fissionReactorPort = {\n  input: {\n    fissionCasing: 4,\n    eliteControlCircuit: 1,\n  },\n  output: 2,\n};\nconst fissionLogicAdapter = {\n  input: {\n    redstone: 4,\n    fissionCasing: 1,\n  },\n  output: 1,\n};\nconst fissionFuelAssembly = {\n  input: {\n    lead: 6,\n    steel: 1,\n    basicChemicalTank: 1,\n  },\n  output: 1,\n};\nconst controlRodAssembly = {\n  input: {\n    steel: 4,\n    lead: 4,\n    eliteControlCircuit: 1,\n  },\n  output: 1,\n};\nconst reactorGlass = {\n  input: {\n    enrichedIron: 4,\n    lead: 4,\n    glass: 1,\n  },\n  output: 4,\n};\nconst eliteControlCircuit = {\n  input: {\n    reinforcedAlloy: 2,\n    advancedControlCircuit: 1,\n  },\n  output: 1,\n};\nconst advancedControlCircuit = {\n  input: {\n    infusedAlloy: 2,\n    basicControlCircuit: 1,\n  },\n  output: 1,\n};\nconst basicControlCircuit = {\n  input: { osmium: 1 },\n  output: 1,\n};\nconst reinforcedAlloy = {\n  input: { infusedAlloy: 1 },\n  output: 1,\n};\nconst infusedAlloy = {\n  input: { iron: 1 },\n  output: 1,\n};\nconst steel = {\n  input: { iron: 1 },\n  output: 1,\n};\nconst turbineCasing = {\n  input: {\n    steel: 4,\n    osmium: 1,\n  },\n  output: 4,\n};\nconst turbineValve = {\n  input: {\n    turbineCasing: 4,\n    advancedControlCircuit: 1,\n  },\n  output: 2,\n};\nconst turbineVent = {\n  input: {\n    turbineCasing: 4,\n    bars: 1,\n  },\n  output: 2,\n};\nconst turbineRotor = {\n  input: {\n    steel: 6,\n    infusedAlloy: 3,\n  },\n  output: 1,\n};\nconst turbineBlade = {\n  input: {\n    steel: 4,\n    infusedAlloy: 1,\n  },\n  output: 1,\n};\nconst rotationalComplex = {\n  input: {\n    infusedAlloy: 3,\n    steel: 4,\n    advancedControlCircuit: 2,\n  },\n  output: 1,\n};\nconst pressureDispenser = {\n  input: {\n    steel: 4,\n    bars: 4,\n    infusedAlloy: 1,\n  },\n  output: 1,\n};\nconst electromagneticCoil = {\n  input: {\n    steel: 4,\n    gold: 4,\n    energyTablet: 1,\n  },\n  output: 1,\n};\nconst structuralGlass = {\n  input: {\n    steel: 4,\n    glass: 1,\n  },\n  output: 4,\n};\nconst energyTablet = {\n  input: {\n    gold: 3,\n    infusedAlloy: 2,\n    redstone: 4,\n  },\n  output: 1,\n};\nconst inductionCasing = {\n  input: {\n    steel: 4,\n    energyTablet: 1,\n  },\n  output: 4,\n};\nconst inductionPort = {\n  input: {\n    inductionCasing: 4,\n    eliteControlCircuit: 1,\n  },\n  output: 2,\n};\nconst basicInductionCell = {\n  input: {\n    energyTablet: 4,\n    lithium: 4,\n    basicEnergyCube: 1,\n  },\n  output: 1,\n};\nconst basicEnergyCube = {\n  input: {\n    energyTablet: 2,\n    iron: 2,\n    redstone: 4,\n    steelCasing: 1,\n  },\n  output: 1,\n};\nconst basicInductionProvider = {\n  input: {\n    lithium: 4,\n    basicControlCircuit: 4,\n    basicEnergyCube: 1,\n  },\n  output: 1,\n};\nexport default {\n  steelCasing,\n  fissionCasing,\n  fissionReactorPort,\n  fissionLogicAdapter,\n  fissionFuelAssembly,\n  basicChemicalTank,\n  controlRodAssembly,\n  reactorGlass,\n  eliteControlCircuit,\n  advancedControlCircuit,\n  infusedAlloy,\n  basicControlCircuit,\n  reinforcedAlloy,\n  steel,\n  turbineCasing,\n  turbineBlade,\n  turbineRotor,\n  turbineValve,\n  turbineVent,\n  pressureDispenser,\n  electromagneticCoil,\n  rotationalComplex,\n  structuralGlass,\n  energyTablet,\n  inductionCasing,\n  inductionPort,\n  basicInductionCell,\n  basicEnergyCube,\n  basicInductionProvider,\n};\n","import {\n  RecipeAST,\n  RecipeStepItem,\n  RecipeStep,\n  RecipeSteps,\n  RecipesType,\n  RecipeType,\n  SymbolType,\n} from './types';\n\nexport const adjust = (\n  obj: Record<string, number>,\n  amount: number,\n): Record<string, number> => Object.entries(obj).reduce(\n  (prev, [k, v]) => ({\n    ...prev,\n    [k]: v * amount,\n  }),\n  {},\n);\n\nexport const reduce = (\n  what: RecipeType,\n  recipes: RecipesType,\n): Record<string, number> => {\n  const input = Object.entries(what.input).map(([key, value]) => (key in recipes\n    ? {\n      ...adjust(\n        reduce(recipes[key], recipes),\n        Math.ceil(value / recipes[key].output),\n      ),\n      [`_${key}`]: value,\n    }\n    : { [key]: value }));\n  const combined = input.reduce(\n    (prev, obj) => Object.entries(obj).reduce(\n      (p, [k, v]) => ({\n        ...p,\n        [k]: ((p[k] || 0) + v),\n      }),\n      prev,\n    ),\n    {},\n  );\n  return combined;\n};\n\nexport const generateAST = (\n  what: RecipeType,\n  recipes: RecipesType,\n  parent?: RecipeAST,\n  name: string = 'root',\n): RecipeAST => {\n  const ast: RecipeAST = {\n    name,\n    parent,\n  };\n  ast.children = Object.keys(what.input)\n    .map((it) => (recipes[it]\n      ? generateAST(recipes[it], recipes, ast, it)\n      : { name: it, parent: ast }));\n  return ast;\n};\n\nexport const generateSteps = (\n  ast: RecipeAST,\n  resources: Record<string, number>,\n): RecipeSteps => {\n  let toWalk = [ast];\n  const steps: RecipeSteps = [];\n  while (toWalk.length > 0) {\n    const step: RecipeStep = [];\n    toWalk\n      .filter(({ name }) => resources[`_${name}`])\n      .forEach(({ name }) => {\n        step.push({\n          name,\n          amount: resources[`_${name}`] || 0,\n        });\n      });\n    if (step.length > 0) {\n      steps.push(\n        step\n          .filter((\n            it: RecipeStepItem,\n            idx: number,\n            arr: RecipeStep,\n          ) => arr.findIndex(({ name }) => name === it.name) === idx),\n      );\n    }\n    toWalk = toWalk\n      .filter(({ children }) => children)\n      .reduce(\n        (prev, { children }) => [...prev, ...children!],\n        [] as RecipeAST[],\n      );\n  }\n  return steps.reverse();\n};\n\nexport const hasCircularDependency = (\n  symbol: SymbolType,\n  recipe: RecipeType,\n  recipes: RecipesType,\n  symbols: SymbolType[],\n): boolean => {\n  const ownSymbols = Object.keys(recipe.input);\n  const containsSymbol = ownSymbols\n    .reduce((prev, it) => prev || (it === symbol.name), false);\n  if (containsSymbol) {\n    return true;\n  }\n  const nextRecipes = (ownSymbols\n    .map((it) => symbols.find(({ name }) => name === it))\n    .filter(Boolean) as SymbolType[]\n  )\n    .filter(({ composite }) => composite)\n    .map(({ name }) => recipes[name])\n    .filter(Boolean);\n  const nextContainSymbol = nextRecipes.reduce(\n    (prev, it) => prev || hasCircularDependency(\n      symbol,\n      it,\n      recipes,\n      symbols,\n    ),\n    false,\n  );\n  return nextContainSymbol;\n};\n","import {\n  createContext,\n  FC,\n  useContext,\n  useMemo,\n  useCallback,\n} from 'react';\n\nimport seedData from '../config/seed';\nimport { generateAST, generateSteps, reduce } from '../utils/calculate';\nimport { useLocalStorageObject } from '../hooks/useLocalStorageObject';\nimport { RecipeContextType, RecipesContextType, RecipesType } from '../utils/types';\n\nconst RecipesContext = createContext<RecipesContextType>({\n  recipes: {},\n  symbols: [],\n  names: [],\n  update: () => {},\n  addRecipe: () => {},\n});\n\nexport const useRecipes = () => useContext(RecipesContext);\nexport const RecipeProviderV3: FC = ({ children }) => {\n  const [recipes,,update] = useLocalStorageObject('recipes-v3', seedData);\n  const recipeNames = useMemo(\n    () => (recipes ? Object.keys(recipes) : []),\n    [recipes],\n  );\n  const allSymbols = useMemo(\n    () => (recipes\n      ? [\n        ...recipeNames,\n        ...Object.values(recipes as RecipesType)\n          .reduce((prev, it) => [\n            ...prev,\n            ...Object.keys(it.input),\n          ],\n          [] as string[]),\n      ]\n        .sort()\n        .filter((it, idx, arr) => arr.indexOf(it) === idx)\n      : []),\n    [recipes, recipeNames],\n  );\n  const symbols = useMemo(\n    () => allSymbols\n      .map((it) => ({ name: it, composite: recipeNames.includes(it) })),\n    [allSymbols, recipeNames],\n  );\n  const addRecipe = useCallback(\n    (name: string) => update(name, { input: {}, output: 0 }),\n    [update],\n  );\n  return (\n    <RecipesContext.Provider value={{\n      recipes,\n      symbols,\n      names: recipeNames,\n      update,\n      addRecipe,\n    }}\n    >\n      {children}\n    </RecipesContext.Provider>\n  );\n};\n\nexport const useSymbols = () => useRecipes().symbols;\nexport const useNames = () => useRecipes().names;\n\nexport const RecipeContext = createContext<RecipeContextType>({\n  recipe: {\n    input: {},\n    output: -1,\n  },\n  resources: {},\n  symbols: [],\n  name: 'unknown',\n  update: () => {},\n  addInput: () => {},\n  removeInput: () => {},\n});\n\nexport const RecipeProvider: FC<{ name: string }> = ({ children, name }) => {\n  const store = useRecipes();\n  const recipe = useMemo(\n    () => store.recipes?.[name] || undefined,\n    [store, name],\n  );\n  const symbols = useMemo(\n    () => (recipe ? Object.keys(recipe.input) : [])\n      .map((it) => ({ name: it, composite: store.names.includes(it) })),\n    [recipe],\n  );\n  const updateFunc = useCallback(\n    (path: string, value: any) => {\n      store.update([name, path].join('.'), value);\n    },\n    [store, name],\n  );\n  const addInput = useCallback(\n    (n: string) => {\n      updateFunc(['input', n].join('.'), 0);\n    },\n    [updateFunc, recipe],\n  );\n  const removeInput = useCallback(\n    (n: string) => {\n      updateFunc('input', Object.entries(recipe.input || {})\n        .filter(([key]) => key !== n)\n        .reduce((prev, [k, v]) => ({\n          ...prev,\n          [k]: v,\n        }), {}));\n    },\n    [updateFunc, recipe],\n  );\n  const resources = useMemo(\n    () => (recipe && store.recipes ? reduce(recipe, store.recipes) : {}),\n    [recipe, store],\n  );\n  const ast = useMemo(\n    () => (recipe && store.recipes\n      ? generateAST(recipe, store.recipes, undefined, name)\n      : undefined),\n    [recipe, store, name],\n  );\n  const steps = useMemo(\n    () => (ast\n      ? generateSteps(ast, resources)\n      : undefined),\n    [ast, resources],\n  );\n  return (\n    <RecipeContext.Provider value={{\n      recipe,\n      symbols,\n      name,\n      resources,\n      ast,\n      steps,\n      update: updateFunc,\n      addInput,\n      removeInput,\n    }}\n    >\n      {children}\n    </RecipeContext.Provider>\n  );\n};\n\nexport const useRecipe = () => useContext(RecipeContext);\nexport const useResources = () => useContext(RecipeContext).resources;\nexport const useAST = () => useContext(RecipeContext).ast;\nexport const useSteps = () => useContext(RecipeContext).steps;\nexport const useInput = (name: string): [number, (val: string) => void] => {\n  const { recipe, update } = useRecipe();\n  const value = useMemo(\n    () => recipe.input[name],\n    [recipe],\n  );\n  const updateFunc = useCallback(\n    (val: string) => update(['input', name].join('.'), parseInt(val, 10)),\n    [update],\n  );\n  return [\n    value,\n    updateFunc,\n  ];\n};\nexport const useOutput = (): [number, (val: string) => void] => {\n  const { recipe, update } = useRecipe();\n  const value = useMemo(\n    () => recipe.output,\n    [recipe],\n  );\n  const updateFunc = useCallback(\n    (val: string) => update('output', parseInt(val, 10)),\n    [update],\n  );\n  return [\n    value,\n    updateFunc,\n  ];\n};\n","export const camelCaseToCapitalized = (\n  input: string,\n): string => `${input[0].toUpperCase()}${input\n  .substr(1)\n  .replace(/[a-z][A-Z]/g, (it) => `${it[0]} ${it[1]}`)}`;\n\nexport const capitalizedToCamelCase = (\n  input: string,\n): string => `${input[0].toLowerCase()}${input\n  .substr(1)\n  .replace(/ [a-zA-Z]/g, (it) => it[1].toUpperCase())}`;\n","import React, { FC, useMemo } from 'react';\nimport {\n  List,\n  ListItem,\n  ListItemText,\n} from '@material-ui/core';\n// import styled from 'styled-components';\nimport { useRecipes } from '../state/recipes-v3';\nimport { camelCaseToCapitalized } from '../utils/strings';\nimport { StyledLink } from './styled';\n\nexport const RecipesList: FC = () => {\n  const { recipes } = useRecipes();\n  const list = useMemo(\n    () => Object.keys(recipes || {})\n      .map((it) => ({\n        id: it,\n        text: camelCaseToCapitalized(it),\n      })),\n    [recipes],\n  );\n  return (\n    <List>\n      {list.map(({ id, text }) => (\n        <StyledLink to={`/recipes/${id}`} key={id}>\n          <ListItem button>\n            <ListItemText>\n              {text}\n            </ListItemText>\n          </ListItem>\n        </StyledLink>\n      ))}\n    </List>\n  );\n};\n\nexport default RecipesList;\n","import React, { FC } from 'react';\nimport { Chip } from '@material-ui/core';\nimport styled from 'styled-components';\nimport { useSymbols } from '../state/recipes-v3';\nimport { StyledLink } from './styled';\nimport { SymbolType } from '../utils/types';\n\nexport const StyledContainer = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  justify-content: flex-start;\n`;\n\nexport const StyledChip = styled(Chip)`\n  margin: 5px;\n`;\n\nexport const ClickableStyledChip = styled(StyledChip)`\n  cursor: pointer;\n`;\n\nexport const SymbolsList: FC<{\n  symbols: SymbolType[],\n  onDelete?: (input: string) => (e: Event) => void,\n}> = ({\n  symbols,\n  onDelete,\n}) => (\n  <StyledContainer>\n    {symbols.map(({ name, composite }) => (composite ? (\n      <StyledLink to={`/recipes/${name}`} key={name}>\n        <ClickableStyledChip\n          label={name}\n          onDelete={onDelete && onDelete(name)}\n        />\n      </StyledLink>\n    ) : (\n      <StyledChip\n        variant=\"outlined\"\n        label={name}\n        key={name}\n        onDelete={onDelete && onDelete(name)}\n      />\n    )))}\n  </StyledContainer>\n);\n\nexport default () => {\n  const symbols = useSymbols();\n  return symbols ? <SymbolsList symbols={symbols} /> : null;\n};\n","import { Fab } from '@material-ui/core';\nimport React, {\n  FC,\n  useState,\n} from 'react';\nimport Measure, { BoundingRect } from 'react-measure';\nimport styled from 'styled-components';\n\nexport const FabWrapper = styled.div<{\n  horizontal?: 'left' | 'right',\n  vertical?: 'top' | 'bottom',\n}>`\n  position: fixed;\n  ${({ vertical }) => (vertical && vertical === 'top'\n    ? 'top: 25px;'\n    : 'bottom: 25px;')}\n  ${({ horizontal }) => (horizontal && horizontal === 'left'\n    ? 'left: 25px;'\n    : 'right: 25px;')}\n`;\n\nexport const Spacer = styled.div`\n  width: 100%;\n`;\n\nexport const BottomFab: FC<{\n  horizontal?: 'left' | 'right',\n  vertical?: 'top' | 'bottom',\n  onClick: () => void,\n  Icon: FC,\n}> = ({\n  onClick,\n  horizontal,\n  vertical,\n  Icon,\n}) => {\n  const [size, setSize] = useState<BoundingRect>();\n  return (\n    <>\n      <Measure\n        bounds\n        onResize={({ bounds }) => setSize(bounds)}\n      >\n        {({ measureRef }) => (\n          <FabWrapper\n            ref={measureRef}\n            horizontal={horizontal}\n            vertical={vertical}\n          >\n            <Fab onClick={onClick} color=\"primary\">\n              <Icon />\n            </Fab>\n          </FabWrapper>\n        )}\n      </Measure>\n      <Spacer style={{\n        height: size\n          ? size.height + 50\n          : 50,\n      }}\n      />\n    </>\n  );\n};\n\nexport default BottomFab;\n","import React, {\n  FC, useCallback, useEffect,\n} from 'react';\nimport {\n  SwipeableDrawer,\n  AppBar,\n  Toolbar,\n  Container,\n  Typography,\n  Tab,\n  Button,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport styled from 'styled-components';\n\nimport { useHistory } from 'react-router';\nimport { TabContext, TabPanel } from '@material-ui/lab';\nimport { useDrawer } from '../state/drawer';\nimport { RecipesList } from './RecipesList';\nimport Symbols from './SymbolsList';\nimport { onMobile, StyledTabs } from './styled';\nimport { useIsMobile } from '../hooks/useIsMobile';\nimport { BottomFab } from './BottomFab';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\n\nconst drawerStyle = `\n  min-width: min(100vw, 300px);\n  max-width: 500px;\n  ${onMobile} {\n    min-width: 100vw;\n    max-width: 100vw;\n  }\n`;\nconst StyledDrawer = styled(SwipeableDrawer)`\n  .styledPaper {\n    ${drawerStyle}\n  }\n  .styledRoot {\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    justify-content: flex-start;\n  }\n`;\n\nconst StyledAppBar = styled(AppBar)`\n  position: sticky !important;\n`;\n\nconst StyledContainer = styled(Container)`\n  margin: 1.5rem 0 !important;\n`;\n\nconst StyledToolbarContainer = styled(Container)`\n  display: flex !important;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst StyledTabPanel = styled(TabPanel)`\n  padding: 0 !important;\n  ${drawerStyle}\n`;\n\nconst DrawerAppBar: FC = ({ children }) => (\n  <StyledAppBar>\n    <Toolbar>\n      <StyledToolbarContainer>\n        <Typography variant=\"h4\">{children}</Typography>\n      </StyledToolbarContainer>\n    </Toolbar>\n  </StyledAppBar>\n);\n\nexport const DrawerWrapper = styled.section`\n  display: flex;\n  flex-flow: column nowrap;\n  height: 100%;\n  width: 100%;\n`;\n\nexport const DrawerInner = styled.article`\n  flex: 1;\n  overflow: hidden;\n  overflow-y: auto;\n`;\n\nexport const RecipesView: FC = () => (\n  <>\n    <DrawerAppBar>Symbols</DrawerAppBar>\n    <StyledContainer>\n      <Symbols />\n    </StyledContainer>\n    <DrawerAppBar>Recipes</DrawerAppBar>\n    <StyledContainer>\n      <RecipesList />\n    </StyledContainer>\n  </>\n);\n\nexport const SettingsView: FC = () => {\n  const reset = useCallback(\n    () => {\n      Object.keys(localStorage)\n        .forEach((key) => localStorage.removeItem(key));\n\n      // @ts-ignore\n      window.location = `${window.location}`;\n    },\n    [],\n  );\n  return (\n    <StyledContainer>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={reset}\n      >\n        Reset\n      </Button>\n    </StyledContainer>\n  );\n};\n\nconst tabs = [\n  { title: 'Recipes', Component: RecipesView },\n  { title: 'Settings', Component: SettingsView },\n];\n\nexport const Drawer: FC = () => {\n  const isMobile = useIsMobile();\n  const { isOpen, open, close } = useDrawer();\n  const [tab, setTab] = useLocalStorage<string>('drawer-tab', tabs[0].title);\n  const onChange = useCallback(\n    (event, newValue) => setTab(newValue),\n    [setTab],\n  );\n  return (\n    <StyledDrawer\n      open={isOpen}\n      onOpen={open}\n      onClose={close}\n      anchor=\"right\"\n      classes={{ paper: 'styledPaper', root: 'styledRoot' }}\n    >\n      <DrawerWrapper>\n        <TabContext value={tab || tabs[0].title}>\n          <StyledTabs\n            value={tab}\n            onChange={onChange}\n          >\n            {tabs.map(({ title }) => (\n              <Tab label={title} key={title} value={title} />\n            ))}\n          </StyledTabs>\n          <DrawerInner>\n            {tabs.map(({ title, Component }) => (\n              <StyledTabPanel value={title} key={title}>\n                <Component />\n              </StyledTabPanel>\n            ))}\n            {isMobile && (\n              <BottomFab\n                onClick={close}\n                Icon={CloseIcon}\n                horizontal=\"left\"\n              />\n            )}\n          </DrawerInner>\n        </TabContext>\n      </DrawerWrapper>\n    </StyledDrawer>\n  );\n};\n\nexport const RouteChangeDrawerClose: FC = () => {\n  const history = useHistory();\n  const { close } = useDrawer();\n  useEffect(\n    () => history.listen(() => {\n      close();\n    }),\n    [history, close],\n  );\n  return <></>;\n};\n","import React, {\n  FC,\n  ChangeEvent,\n  useCallback,\n  useMemo,\n  useState,\n  useEffect,\n} from 'react';\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  Container,\n  TextField,\n} from '@material-ui/core';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport styled from 'styled-components';\nimport {\n  useRecipe,\n  useInput,\n  useOutput,\n  useRecipes,\n} from '../state/recipes-v3';\n\nimport { Title } from '../state/title';\nimport { camelCaseToCapitalized } from '../utils/strings';\nimport { SymbolsList } from './SymbolsList';\nimport { onMobile } from './styled';\nimport { SymbolType } from '../utils/types';\nimport { hasCircularDependency } from '../utils/calculate';\n\nexport const StyledContainer = styled(Container)`\n  display: grid !important;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 1rem;\n  padding: 1rem 0 !important;\n  ${onMobile} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const StyledTextField = styled(TextField)`\n  margin: 0.5rem 0 !important;\n`;\n\nconst StyledCard = styled(Card)`\n  display: flex;\n  flex-flow: column nowrap;\n`;\n\nconst StyledExpandCardContent = styled(CardContent)`\n  flex: 1;\n`;\n\nexport const Input: FC<{\n  name: string\n}> = ({\n  name,\n}) => {\n  const [value, setValue] = useInput(name);\n  const onChange = useCallback(\n    ({ target: { value: v } }: ChangeEvent<HTMLInputElement>) => setValue(v),\n    [setValue],\n  );\n  return (\n    <StyledTextField\n      fullWidth\n      label={camelCaseToCapitalized(name)}\n      value={value}\n      type=\"number\"\n      onChange={onChange}\n    />\n  );\n};\n\nexport const Output: FC = () => {\n  const [value, setValue] = useOutput();\n  const onChange = useCallback(\n    ({ target: { value: v } }: ChangeEvent<HTMLInputElement>) => setValue(v),\n    [setValue],\n  );\n  return (\n    <StyledTextField\n      fullWidth\n      label=\"Output Number\"\n      value={value}\n      type=\"number\"\n      onChange={onChange}\n    />\n  );\n};\n\ntype ComboBoxAddType = {inputValue?: string};\nconst filter = createFilterOptions<SymbolType & ComboBoxAddType>();\n\nexport const RecipeEditor: FC = () => {\n  const { symbols: allSymbols, recipes } = useRecipes();\n  const {\n    name,\n    symbols,\n    recipe,\n    addInput,\n    removeInput,\n  } = useRecipe();\n  const comboSymbols = useMemo(\n    () => {\n      const usedSymbols = symbols.map(({ name: n }) => n);\n      const circularSymbols = allSymbols.filter(\n        ({ name: n, composite }) => {\n          if (!composite) {\n            return false;\n          }\n          return hasCircularDependency(\n            { name },\n            recipes[n],\n            recipes,\n            allSymbols,\n          );\n        },\n      ).map(({ name: n }) => n);\n      return allSymbols.filter(({ name: n }) => (\n        !usedSymbols.includes(n)\n        && !circularSymbols.includes(n)\n        && n !== name\n      ));\n    },\n    [symbols, allSymbols, recipes, name],\n  );\n  const deleteHandler = useCallback(\n    (symbol: string) => (e: Event) => {\n      e.preventDefault();\n      removeInput(symbol);\n    },\n    [removeInput],\n  );\n  const [newSymbol, setNewSymbol] = useState<SymbolType & ComboBoxAddType | null>(null);\n  useEffect(\n    () => {\n      if (newSymbol) {\n        addInput(newSymbol.name);\n        setNewSymbol(null);\n      }\n    },\n    [newSymbol, addInput, setNewSymbol],\n  );\n  if (!recipe) {\n    return null;\n  }\n  return (\n    <>\n      <Title title={`Edit: ${camelCaseToCapitalized(name)}`} />\n      <StyledContainer>\n        <div>\n          <StyledCard>\n            <CardHeader title=\"Symbols Used\" />\n            <StyledExpandCardContent style={{ flex: 1 }}>\n              <SymbolsList symbols={symbols} onDelete={deleteHandler} />\n            </StyledExpandCardContent>\n            <CardContent>\n              <Autocomplete\n                value={newSymbol}\n                onChange={(_, newValue) => {\n                  if (typeof newValue === 'string') {\n                    setNewSymbol({ name: newValue, composite: false });\n                  } else if (newValue && newValue.inputValue) {\n                    setNewSymbol({ name: newValue.inputValue, composite: false });\n                  } else if (newValue) {\n                    setNewSymbol(newValue);\n                  } else {\n                    setNewSymbol(null);\n                  }\n                }}\n                filterOptions={(options, params) => {\n                  const filtered = filter(options, params);\n\n                  // Suggest the creation of a new value\n                  if (params.inputValue !== '') {\n                    filtered.push({\n                      inputValue: params.inputValue,\n                      name: `Add \"${params.inputValue}\"`,\n                    });\n                  }\n\n                  return filtered;\n                }}\n                selectOnFocus\n                clearOnBlur\n                handleHomeEndKeys\n                options={comboSymbols as (SymbolType & ComboBoxAddType)[]}\n                getOptionLabel={(option) => {\n                  if (typeof option === 'string') {\n                    return option;\n                  }\n                  if (option && option.inputValue) {\n                    return option.inputValue;\n                  }\n                  return option.name;\n                }}\n                renderOption={({ name: n }) => camelCaseToCapitalized(n)}\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    fullWidth\n                    label=\"Add Symbol\"\n                  />\n                )}\n              />\n            </CardContent>\n          </StyledCard>\n        </div>\n        <div>\n          <StyledCard>\n            <CardHeader title=\"Materials\" />\n            <StyledExpandCardContent>\n              {Object.keys(recipe.input).sort().map((it) => (\n                <Input\n                  name={it}\n                  key={it}\n                />\n              ))}\n            </StyledExpandCardContent>\n            <CardContent>\n              <Output />\n            </CardContent>\n          </StyledCard>\n        </div>\n      </StyledContainer>\n    </>\n  );\n};\n\nexport default RecipeEditor;\n","import React, {\n  FC,\n  useCallback,\n  useMemo,\n  useState,\n} from 'react';\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  Container,\n  Typography,\n  withTheme,\n  Theme,\n  Backdrop,\n  Fade,\n  Modal,\n  Button,\n  IconButton,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n} from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport styled from 'styled-components';\n\nimport Tree from 'react-d3-tree';\nimport Measure, { BoundingRect } from 'react-measure';\n\nimport { RecipeAST } from '../utils/types';\nimport {\n  useAST,\n  useRecipe,\n  useResources,\n  useSteps,\n} from '../state/recipes-v3';\n\nimport {\n  ModalContainer,\n  ModalContent,\n  ModalWrapper,\n  onMobile,\n  RightCardActions,\n} from './styled';\n\nimport { camelCaseToCapitalized } from '../utils/strings';\nimport { Title } from '../state/title';\n\nexport const StyledContainer = styled(Container)`\n  display: grid !important;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 1rem;\n  padding: 1rem 0 !important;\n  ${onMobile} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const ResourceWrapper = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport const ResourceText = styled(Typography)`\n  flex: 1;\n`;\n\nexport const ResourceNumber = styled(Typography)`\n\n`;\n\nexport const ResourcePreview: FC<{\n  text: string,\n  amount: number\n}> = ({\n  text,\n  amount,\n}) => (\n  <ResourceWrapper>\n    <ResourceText>{camelCaseToCapitalized(text)}</ResourceText>\n    <ResourceNumber>{amount}</ResourceNumber>\n  </ResourceWrapper>\n);\n\nconst ResourcesSummary: FC = () => {\n  const resources = useResources();\n  const rootResources = useMemo(\n    () => Object.entries(resources)\n      .filter(([key]) => !key.startsWith('_')),\n    [resources],\n  );\n  return (\n    <Card>\n      <CardHeader title=\"Total Resouces\" />\n      <CardContent>\n        {rootResources.map(\n          ([key, value]) => (\n            <ResourcePreview key={key} text={key} amount={value} />\n          ),\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport const SVGCard = styled(Card)`\n  display: flex;\n  flex-flow: column nowrap;\n`;\n\nexport const SVGWrapper = styled(CardContent)`\n  width: 100%;\n  height: 500px;\n  ${onMobile} {\n    height: 300px;\n  }\n  flex: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst svgStyle = ({\n  theme: {\n    palette: {\n      background: {\n        default: background,\n      },\n      text: {\n        primary: text,\n      },\n    },\n    shadows: [shadow],\n  },\n}: { theme: Theme }) => `\n  background: ${background};\n  color: ${text};\n  box-shadow: ${shadow};\n`;\n\nexport const SVG = withTheme(\n  styled.div`\n    width: 100%;\n    height: 100%;\n    ${svgStyle}\n    .linkBase {\n      stroke: currentColor;\n      opacity: 0.5 !important;\n    }\n    .nodeBase, .nodeNameBase, .leafNodeBase {\n      fill: currentColor;\n      stroke: transparent;\n    }\n  `,\n);\n\nexport const LargeModalContent = styled(ModalContent)`\n  height: calc(95vh - 100px);\n  flex: 0;\n  display: flex;\n  flex-flow: column nowrap;\n`;\n\nexport const LargeModalContainer = styled(ModalContainer)`\n  max-width: initial !important;\n`;\n\nexport const AST: FC<{\n  data: RecipeAST\n}> = ({\n  data,\n}) => {\n  const [size, setSize] = useState<BoundingRect>();\n  const translate = useMemo(\n    () => (size\n      ? ({\n        x: size.width / 2,\n        y: size.height / 2,\n      })\n      : undefined),\n    [size],\n  );\n  return (\n    <SVGWrapper>\n      <Measure\n        bounds\n        onResize={({ bounds }) => setSize(bounds)}\n      >\n        {({ measureRef }) => (\n          <SVG ref={measureRef}>\n            <Tree\n              data={data}\n              orientation=\"vertical\"\n              collapsible={false}\n              translate={translate}\n              textLayout={{\n                textAnchor: 'start',\n                y: 0,\n                x: 15,\n              }}\n            />\n          </SVG>\n        )}\n      </Measure>\n    </SVGWrapper>\n  );\n};\n\nexport const ASTPreview: FC = () => {\n  const [modalOpen, setModalOpen] = useState(false);\n  const open = useCallback(\n    () => setModalOpen(true),\n    [setModalOpen],\n  );\n  const close = useCallback(\n    () => setModalOpen(false),\n    [setModalOpen],\n  );\n  const ast = useAST();\n  const humanReadableAst = useMemo(\n    () => {\n      if (!ast) {\n        return undefined;\n      }\n      const updateNode = ({ name, children }: RecipeAST): RecipeAST => ({\n        name: camelCaseToCapitalized(name),\n        ...(children\n          ? { children: children.map(updateNode) }\n          : {}),\n      });\n      return updateNode(ast);\n    },\n    [ast],\n  );\n  return (\n    <>\n      <SVGCard>\n        <CardHeader title=\"Dependency Tree\" />\n        {humanReadableAst && <AST data={humanReadableAst} />}\n        <RightCardActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={open}\n          >\n            View Large\n          </Button>\n        </RightCardActions>\n      </SVGCard>\n      <Modal\n        open={modalOpen}\n        onClose={close}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={modalOpen}>\n          <LargeModalContainer>\n            <ModalWrapper elevation={10}>\n              <CardHeader\n                title=\"Create new Recipe\"\n                action={(\n                  <IconButton onClick={close}>\n                    <CloseIcon />\n                  </IconButton>\n              )}\n              />\n              <LargeModalContent>\n                {humanReadableAst && <AST data={humanReadableAst} />}\n              </LargeModalContent>\n            </ModalWrapper>\n          </LargeModalContainer>\n        </Fade>\n      </Modal>\n    </>\n  );\n};\n\nexport const FullCol = styled.div`\n  grid-row-start: 1;\n  grid-row-end: 4;\n  grid-column: 2;\n  ${onMobile} {\n    grid-row: 3;\n    grid-column: 1;\n  }\n`;\n\nconst StyledAccordionDetails = styled(AccordionDetails)`\n  display: flex;\n  flex-flow: column nowrap;\n`;\n\nexport const StepsView: FC = () => {\n  const steps = useSteps();\n  const [active, setActive] = useState<number>(0);\n  const activate = useCallback(\n    (id: number) => () => setActive(id),\n    [setActive],\n  );\n  return (\n    <div>\n      {steps && steps.map((step, idx) => (\n        <Accordion\n          key={`${idx.toString()}`}\n          expanded={active === idx}\n          onChange={activate(idx)}\n        >\n          <AccordionSummary\n            expandIcon={<ExpandMoreIcon />}\n          >\n            {`Step ${idx + 1}`}\n          </AccordionSummary>\n          <StyledAccordionDetails>\n            {step.map(\n              ({ name, amount }) => (\n                <ResourcePreview key={name} text={name} amount={amount} />\n              ),\n            )}\n          </StyledAccordionDetails>\n        </Accordion>\n      ))}\n    </div>\n  );\n};\n\nexport const ResourcesView: FC = () => {\n  const { name } = useRecipe();\n  return (\n    <>\n      <Title title={`View: ${camelCaseToCapitalized(name)}`} />\n      <StyledContainer>\n        <div>\n          <ResourcesSummary />\n        </div>\n        <FullCol>\n          <ASTPreview />\n        </FullCol>\n        <div>\n          <StepsView />\n        </div>\n      </StyledContainer>\n    </>\n  );\n};\n\nexport const RecipeViewer: FC = () => (\n  <ResourcesView />\n);\n\nexport default RecipeViewer;\n","import React, {\n  FC, useCallback, useEffect, useState,\n} from 'react';\nimport {\n  Route,\n  useHistory,\n  useLocation,\n  useParams, useRouteMatch,\n} from 'react-router';\nimport {\n  AppBar, Container, Tab,\n} from '@material-ui/core';\nimport styled from 'styled-components';\nimport {\n  RecipeProvider, useRecipe,\n} from '../state/recipes-v3';\n\nimport { useIsMobile } from '../hooks/useIsMobile';\nimport { RecipeEditor } from '../components/RecipeEditor';\nimport { RecipeViewer } from '../components/RecipeViewer';\nimport { StyledTabs } from '../components/styled';\nimport { usePrevious } from '../hooks/usePrevious';\n\nconst StyledContainer = styled(Container)`\n  padding: 1rem 0;\n`;\n\nexport const baseRoute = '/recipes/:name';\n\nconst tabs = [\n  { title: 'Viewer', Component: RecipeViewer, route: '/view' },\n  { title: 'Editor', Component: RecipeEditor, route: '/edit' },\n];\n\nexport const routes = tabs.map(({ route }) => route);\n\nexport const RouteOnEmpty: FC = () => {\n  const { recipe } = useRecipe();\n  const history = useHistory();\n  const [hasLoaded, setHasLoaded] = useState<boolean>(false);\n  useEffect(\n    () => {\n      setTimeout(setHasLoaded, 500, true);\n    },\n    [setHasLoaded],\n  );\n  useEffect(\n    () => {\n      console.log(hasLoaded, recipe);\n      if (hasLoaded && !recipe) {\n        history.push('/not-found');\n      }\n    },\n    [recipe, hasLoaded, history],\n  );\n  return <></>;\n};\n\nexport const RecipeScreen: FC = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const path = useRouteMatch({\n    path: baseRoute,\n  });\n  useEffect(\n    () => {\n      if (path && path.isExact) {\n        history.push(`${path.url}${tabs[0].route}`);\n      }\n    },\n    [path, history, location],\n  );\n  const { name } = useParams<{name:string}>();\n  const isMobile = useIsMobile();\n  const [tab, setTab] = useState<number>(\n    path\n      ? (\n        () => {\n          const idx = tabs.findIndex(\n            ({ route }) => route === location.pathname.replace(path.url, ''),\n          );\n          if (idx > 0) {\n            return idx;\n          }\n          return 0;\n        }\n      )()\n      : 0,\n  );\n  const prevTab = usePrevious(tab);\n  useEffect(\n    () => {\n      if (path && prevTab !== tab) {\n        history.push(`${path.url}${(tabs[tab] || tabs[0]).route}`);\n      }\n    },\n    [history, path, tab, prevTab],\n  );\n  const onChange = useCallback(\n    (event, newValue) => setTab(newValue),\n    [setTab],\n  );\n  return (\n    <RecipeProvider name={name}>\n      <RouteOnEmpty />\n      <StyledContainer>\n        <AppBar position=\"static\">\n          <StyledTabs\n            value={tab}\n            onChange={onChange}\n            variant={isMobile ? 'fullWidth' : undefined}\n          >\n            {tabs.map(({ title }) => <Tab label={title} key={title} />)}\n          </StyledTabs>\n        </AppBar>\n        {tabs.map(({ title, route, Component }) => (\n          <Route\n            exact\n            path={`${baseRoute}${route}`}\n            component={Component}\n            key={title}\n          />\n        ))}\n      </StyledContainer>\n    </RecipeProvider>\n  );\n};\n\nexport default RecipeScreen;\n","import React, {\n  useState,\n  useCallback,\n  FC,\n  useMemo,\n} from 'react';\n\nimport {\n  Modal,\n  Backdrop,\n  Fade,\n  CardHeader,\n  TextField,\n  Button,\n} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { useHistory } from 'react-router';\nimport {\n  ModalContainer,\n  ModalContent,\n  ModalWrapper,\n  RightCardActions,\n} from './styled';\n\nimport { useRecipes } from '../state/recipes-v3';\nimport { camelCaseToCapitalized, capitalizedToCamelCase } from '../utils/strings';\nimport { SymbolType } from '../utils/types';\nimport { baseRoute } from '../screens/Recipe';\n\nimport { BottomFab } from './BottomFab';\n\ntype ComboBoxAddType = {inputValue?: string};\nconst filter = createFilterOptions<SymbolType & ComboBoxAddType>();\n\nexport const CreateRecipeModal: FC<{\n  open: boolean,\n  onClose: () => void,\n}> = ({\n  open,\n  onClose,\n}) => {\n  const history = useHistory();\n  const { symbols, addRecipe } = useRecipes();\n  const availableSymbols = useMemo(\n    () => symbols.filter(({ composite }) => !composite),\n    [symbols],\n  );\n  const [newSymbol, setNewSymbol] = useState<SymbolType & ComboBoxAddType | null>(null);\n  const name = useMemo(\n    () => newSymbol?.name,\n    [newSymbol],\n  );\n  const close = useCallback(\n    () => {\n      setNewSymbol(null);\n      onClose();\n    },\n    [setNewSymbol, onClose],\n  );\n  const onSave = useCallback(\n    () => {\n      if (name) {\n        addRecipe(capitalizedToCamelCase(name));\n        history.push([\n          baseRoute.replace(':name', name),\n          'edit',\n        ].join('/'));\n      }\n      close();\n    },\n    [name, close, history],\n  );\n  return (\n    <Modal\n      open={open}\n      onClose={close}\n      closeAfterTransition\n      disableEnforceFocus\n      disableAutoFocus\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={open}>\n        <ModalContainer>\n          <ModalWrapper elevation={10}>\n            <CardHeader title=\"Create new Recipe\" />\n            <ModalContent>\n              <Autocomplete\n                value={newSymbol}\n                onChange={(_, newValue) => {\n                  if (typeof newValue === 'string') {\n                    setNewSymbol({ name: newValue, composite: false });\n                  } else if (newValue && newValue.inputValue) {\n                    setNewSymbol({ name: newValue.inputValue, composite: false });\n                  } else if (newValue) {\n                    setNewSymbol(newValue);\n                  } else {\n                    setNewSymbol(null);\n                  }\n                }}\n                filterOptions={(options, params) => {\n                  const filtered = filter(options, params);\n\n                  // Suggest the creation of a new value\n                  if (params.inputValue !== '') {\n                    filtered.push({\n                      inputValue: params.inputValue,\n                      name: `Add \"${params.inputValue}\"`,\n                    });\n                  }\n\n                  return filtered;\n                }}\n                selectOnFocus\n                clearOnBlur\n                handleHomeEndKeys\n                options={availableSymbols as (SymbolType & ComboBoxAddType)[]}\n                getOptionLabel={(option) => {\n                  if (typeof option === 'string') {\n                    return option;\n                  }\n                  if (option && option.inputValue) {\n                    return option.inputValue;\n                  }\n                  return option.name;\n                }}\n                renderOption={({ name: n }) => camelCaseToCapitalized(n)}\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    fullWidth\n                    label=\"Add Recipe\"\n                  />\n                )}\n              />\n            </ModalContent>\n            <RightCardActions>\n              <Button color=\"primary\" variant=\"contained\" onClick={onSave}>Save</Button>\n              <Button color=\"secondary\" onClick={close}>Cancel</Button>\n            </RightCardActions>\n          </ModalWrapper>\n        </ModalContainer>\n      </Fade>\n    </Modal>\n  );\n};\n\nexport const CreateRecipeWrapper: FC = () => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const close = useCallback(\n    () => setIsOpen(false),\n    [setIsOpen],\n  );\n  const open = useCallback(\n    () => setIsOpen(true),\n    [setIsOpen],\n  );\n  return (\n    <>\n      <BottomFab Icon={AddIcon} onClick={open} />\n      <CreateRecipeModal open={isOpen} onClose={close} />\n    </>\n  );\n};\n\nexport default CreateRecipeWrapper;\n","import React from 'react';\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Container,\n} from '@material-ui/core';\nimport styled from 'styled-components';\n\nimport { Title } from '../state/title';\nimport Symbols from '../components/SymbolsList';\nimport { RecipesList } from '../components/RecipesList';\nimport { onMobile } from '../components/styled';\n\nexport const StyledContainer = styled(Container)`\n  display: grid !important;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 1rem;\n  padding: 1rem 0 !important;\n  ${onMobile} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const HomeScreen = () => (\n  <>\n    <Title title=\"Home\" isRoot />\n    <StyledContainer>\n      <div>\n        <Card>\n          <CardHeader title=\"Symbols\" />\n          <CardContent>\n            <Symbols />\n          </CardContent>\n        </Card>\n      </div>\n      <div>\n        <Card>\n          <CardHeader title=\"Recipes\" />\n          <CardContent>\n            <RecipesList />\n          </CardContent>\n        </Card>\n      </div>\n    </StyledContainer>\n  </>\n);\nexport default HomeScreen;\n","import React, { FC } from 'react';\nimport { Title } from '../state/title';\nimport { useLocalStorageObject } from '../hooks/useLocalStorageObject';\n\nimport seedData from '../config/seed';\n\nexport const TestScreen: FC = () => {\n  const [value] = useLocalStorageObject('test', seedData);\n  return (\n    <>\n      <Title>Test Screen</Title>\n      <code style={{ whiteSpace: 'pre-wrap' }}>\n        {JSON.stringify(value, undefined, 2)}\n      </code>\n    </>\n  );\n};\n\nexport default TestScreen;\n","import React, { FC } from 'react';\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  Container,\n  Typography,\n} from '@material-ui/core';\nimport styled from 'styled-components';\n\nimport { Title } from '../state/title';\n\nexport const StyledContainer = styled(Container)`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  margin-top: 50px;\n`;\n\nexport const Error404Screen: FC = () => (\n  <>\n    <Title>Not Found</Title>\n    <StyledContainer>\n      <Card>\n        <CardHeader title=\"404 Error\" />\n        <CardContent>\n          <Typography>\n            This is not the page you&apos;re looking for\n          </Typography>\n        </CardContent>\n      </Card>\n    </StyledContainer>\n  </>\n);\n","import React, { FC } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Route, Switch } from 'react-router';\nimport { Container, withTheme } from '@material-ui/core';\nimport styled from 'styled-components';\n\nimport { use100vh } from 'react-div-100vh';\n\nimport { baseURL } from './config/constants';\nimport { Redirect } from './components/Redirect';\n\nimport { NavBar } from './components/NavBar';\nimport { Drawer, RouteChangeDrawerClose } from './components/Drawer';\nimport CreateRecipe from './components/CreateRecipe';\n\nimport { HomeScreen } from './screens/Home';\nimport { RecipeScreen, baseRoute as recipeRoute } from './screens/Recipe';\nimport { TestScreen } from './screens/Test';\nimport { Error404Screen } from './screens/404';\n\nconst StyledContainerRaw = withTheme(\n  styled(Container)`\n    background: ${({ theme: { palette: { background: { default: background } } } }) => background};\n    width: 100vw !important;\n    max-width: initial !important;\n  `,\n);\n\nconst StyledContainer: FC = ({ children }) => {\n  const height = use100vh();\n  return (\n    <StyledContainerRaw style={{ minHeight: height }}>\n      {children}\n    </StyledContainerRaw>\n  );\n};\n\nexport const App: FC = () => (\n  <Router basename={baseURL}>\n    <Redirect />\n    <RouteChangeDrawerClose />\n    <StyledContainer>\n      <NavBar />\n      <Drawer />\n      <Switch>\n        <Route exact path=\"/\" component={HomeScreen} />\n        <Route path={recipeRoute} component={RecipeScreen} />\n        <Route exact path=\"/test\" component={TestScreen} />\n        <Route path=\"/\" component={Error404Screen} />\n      </Switch>\n      <CreateRecipe />\n    </StyledContainer>\n  </Router>\n);\n\nexport default App;\n","import * as React from 'react';\nimport { render } from 'react-dom';\nimport 'typeface-roboto';\n\nimport './styles.css';\nimport { App } from './App';\nimport { DrawerProvider } from './state/drawer';\nimport { TitleProvider } from './state/title';\nimport { AppThemeProvider as ThemeProvider } from './state/theme';\nimport { RecipeProviderV3 } from './state/recipes-v3';\n\nconst rootElement = document.getElementById('root');\nrender(\n  <ThemeProvider>\n    <DrawerProvider>\n      <RecipeProviderV3>\n        <TitleProvider>\n          <App />\n        </TitleProvider>\n      </RecipeProviderV3>\n    </DrawerProvider>\n  </ThemeProvider>,\n  rootElement,\n);\n"],"sourceRoot":""}